!function(n,c){var s=n.ncJsVersion||"",e=n.ncJsPluginVersion||"",i={debug:!0,alias:{nc:"/nc/"+s+"/nc",cpn:"/cpn/"+s+"/cpn",ncStream:"/nc/"+s+"/plugin/stream/stream",ncOss:"/nc/"+s+"/plugin/oss/oss",ncpc:"/nc/"+s+"/plugin/pc/pc"},base:"//static.nowcoder.com/"},a=0<=i.base.indexOf("javascripts");i.paths={ncPlugin:"//static.nowcoder.com/nc/plugin/"+e+(a?"/dev":"/release")},seajs.config(i)}(window);
define("nowcoder/1.2.1280/javascripts/core/siteConfig",[],function(e,o,a){a.exports={questionType:{danxuan:1,duoxuan:2,tiankong:3,biancheng:4,wenda:5,bigdata:6},syncType:{ctsTest:1,discuss:2,interview:3},type:{user:1,comment:2,problem:3,topic:4,feed:5,paper:6,recommendAnswer:7,post:8,message:9,live:11,note:14,clockRecord:15,ctsTest:19,schoolCalendar:28,stack:41,learningMaterial:42,stackCompany:50,book:52,bookOneWord:55,offerData:56,blog:73,campus:1201,community:1301,liveCourse:1501,liveChapter:1502,liveSection:1503,liveLive:1504,vodCourse:1401,vodChapter:1402,vodSection:1403,aiQuestion:2301},draftType:{answer:1,post:2,answerPost:3,note:4},honorLevel:{red:9,orange:8,yellow:7,green:6,blue:5,indigo:4,purple:3,pink:2,gray:1},uploadType:{none:0,image:1,doc:2,data:3,resume:4,file:5,screenShot:7,learningMaterial:11},loginType:{wb:1,qq:2,db:3,rr:4,git:5,wx:6},FEInput:{1:"html",2:"css",3:"javascript"},FELib:{1:{text:"jquery (2.1.4)",value:"jquery"},2:{text:"underscore (1.8.2)",value:"underscore"}},avatar:{small:"//static.nowcoder.com/images/head.png"},captcha:{register:"register",refAnswer:"ref_answer_query",runCode:"run_code",sysRightAnswer:"get_right_option",postComment:"post_comment",sendMessage:"send_message",offerChoose:"show_offer_choose",offerNormal:"show_offer_normal",sendVerifyCode:"send_verify_code"},activityType:{seattle:1,xingtai:2,taipei:3,ali2015:4,qihu2016:5,calenderOj:14,calenderBigData:15},aodianyun:{account:"nowcoder_weekly",password:"sub_034da48a83095baef7f0196896b38629",topic:"weekly",liveAccount:"live_course",livePassword:"sub_71b59a68e7a86347ce77eece262de375"},doSomeThingType:{wantAnswer:1,liveCourseSignUp:2,liveAskAnswer:3,loginRecord:4,cheat:5,spring2016InternJava:6,spring2016InternC:7},eduNames:["博士后","博士","硕士","本科","专科","高中","初中","小学"],jobs:{"Java工程师":"639","C++工程师":"640","iOS工程师":"641","安卓工程师":"642","运维工程师":"643","前端工程师":"644","算法工程师":"645","PHP工程师":"649","测试工程师":"680","安全工程师":"682","C#工程师":"683","数据库工程师":"684","数据分析师":"894","产品":"891","运营":"892","其它":"685"},userSource:["牛客网","微信","微博","老师、朋友推荐","技术社区","其他"],share:{contest:1,comment:2,book:3,schedule:4}}});
define("nowcoder/1.2.1280/javascripts/util/bll",["nc","cpn","ncpc","../action/common","../action/circle"],function(n,t,i){var e=n("nc"),c=n("cpn"),o=n("ncpc"),a=n("../action/common"),r=n("../action/circle"),u=e.Base,l=c.Popup,p=o.PopupCommon,f=c.AttachSuggest;i.exports={bindSuggestCompany:function d(t){var i=t.input;f.show({input:i.inputEl,attach:{extOffset:{left:-2}},needSame:!0,reqList:function(n,i){if(!n)return i([]);a.companySearchName({query:{name:n},call:function(n){var t=u.map(n.data,function(n){return{text:n.name,data:n}});i(t)},error:function(){i([])}})},ok:function(n){i.val(n.text),t.call&&t.call(n.data)}}).getEl().css("min-width",i.getEl().outerWidth()+2)},joinCircle:function s(e,t){function i(n,t,i){r[n?"quitCircle":"applyCircle"]({type:"POST",body:{circleId:e.id,content:n?undefined:t},call:i,error:function(n){l.alert(n.msg)}})}e.quit&&i(!0,undefined,t),!e.quit&&0==+e.visibility&&i(!1,undefined,t),!e.quit&&1==+e.visibility&&p.ipt("申请入圈","添加申请说明，方便快速通过","在此输入申请说明，最多支持140字，可不填",function(n){i(!1,n,t)},function(n,t){var i=(t||"").length<=140;return n[i?"setNone":"setErrorTips"]("申请说明最多 140 字"),i})}}});
define("nowcoder/1.2.1280/javascripts/util/littleAction",["nc","cpn","ncpc","../action/contest","../action/note","../core/siteConfig"],function(a,t,n){var o=a("nc"),e=a("cpn"),i=a("ncpc"),h=o.$,m=o.Limit,y=o.Base,C=o.Dom,w=(o.CodeLang,e.Popup),d=e.Tips,v=i.Env,l=i.Auth,k=i.PopupCollect,g=a("../action/contest"),s=a("../action/note");a("../core/siteConfig");n.exports={publishJob:function r(t){t=t||{},l.click({cls:t.cls||".js-publish-job",needLogin:!0,call:function(t,n){t.preventDefault();var o=v.getUser(),e=y.id(o.authenticationUserType);if("0"!==e&&"2"!==e)return a.async("../component/popupSub/popupHrGuideVerify",function(t){t.show({type:e})});var i=v.isInDev()?"http://d.hr.nowcoder.com/login-more?autoLoginType=1":"https://hr.nowcoder.com/login-more?autoLoginType=1";if(0<+o.relationHrId)return window.open(i);a.async("../component/popupSub/popupHrCreate",function(t){t.show({listeners:{ok:function(t){t.location.href=i,location.reload()}}})})}})},follow:function S(l){var a=l.followCls||"js-follow",s=l.unfollowCls||"js-unfollow",r="followStr"in l?l.followStr:"收藏",c="followedStr"in l?l.followedStr:"已收藏",u=y.id(l.followCount)?+l.followCount:-1,d=l.followCb||function(){},t="."+a+", ."+s,n=h(t);if(n.addClass("nc-req-auth"),!v.isLogin())return;l.noHover||C.hover(h(t),function(){f(h(this),!0)},function(){f(h(this))});return h(document).on("click",t,function(t){l.stopPropagation&&t.stopPropagation();var n=h(t.currentTarget);if(!m.mark(n)){var o={id:l.entityId,type:l.entityType};l.entityCb&&(o=l.entityCb(t));var e=n.hasClass(s);e&&(l.noPopup?i():k.show({entityId:o.id,entityType:o.type,isEdit:!0,ok:y.bind(p,null,!1,o),cancel:i,close:function(){m.clear(n),d("",u)}})),!e&&g.follow({body:o,call:function(){n.removeClass(a).addClass(s),0<=u&&(u+=1),f(n),!l.noPopup&&k.show({entityId:o.id,entityType:o.type,isEdit:!1,ok:y.bind(p,null,!0,o),cancel:y.bind(d,null,"new",u),close:y.bind(d,null,"new",u)}),l.noPopup&&d("new",u)},error:function(t){w.alert(t.msg)},always:function(){m.pause(n)}})}function i(){g.unfollow({body:o,call:function(){n.removeClass(s).addClass(a),0<=u&&(u=Math.max(0,u-1)),f(n),!l.noTips&&w.tips("操作成功"),d("cancel",u)},error:function(t){w.alert(t.msg)},always:function(){m.pause(n)}})}}),{update:function(t){u=y.id(t)?+t:-1,f(n)}};function f(t,n){var o=0<=u?"("+u+")":"",e=t.hasClass(s),i=(e?c:r)+o;if(l.renderResult){var a=e&&n;a&&t.text("编辑收藏"),!a&&l.renderResult(t,e,u,e?c:r)}else e&&t.text(n?"编辑收藏":i),!e&&t.text(i)}function p(t,n,o){if(!t||0<o.length)return g[t?"createFollowTags":"editFollowTags"]({body:y.extend(n,{tags:o.join(",")}),call:function(){w.tips("操作成功"),d(t?"new":"edit",u)},error:function(t){w.alert(t.msg)}});w.tips("操作成功"),d("new",u)}},correction:function c(n){var t=h(n.el);if(!n.entityType||!n.entityId)return;t.on("click",function(t){t.preventDefault(),a.async("../component/popupSub/popupCorrection",function(t){t.show({entryType:n.entityType,entryId:n.entityId})})})},note:function u(o){if(!o.entityType||!o.entityId)return;var t=y.map(o.editCls,function(t){return"."+t}).join(","),n=y.map(o.foldCls,function(t){return"."+t}).join(",");if(h(t).addClass("nc-req-auth"),!v.isLogin())return;t&&h(document).on("click",t,function(){a.async("../component/note/popupEdit",function(t){t.show({defaultTilte:o.defaultTilte,entityId:o.entityId,entityType:o.entityType,ok:o.ok})})}),n&&h(document).on("click",n,function(t){t.preventDefault();var n=h(o.container);n[n.hasClass("open")?"removeClass":"addClass"]("open")}),o.delCls&&o.noteId&&h("."+o.delCls).on("click",function(t){w.confirm("删除了不可恢复，是否确认删除？",function(){s.delNote({params:{noteId:o.noteId},call:function(){w.tips("操作成功",function(){o.del?o.del():window.location.reload()})},error:function(t){w.alert(t.msg)}})})})},clock:function f(i){var n=h(i.el);if(n.addClass("nc-req-auth"),!v.isLogin())return;var o=+n.attr("data-count")||0;n.on("click",function(t){a.async("../component/popupSub/popupClock",function(t){t.show({ok:function(e){i.ok||(n.closest("div.sign-main").find("div.sign-info a").html(o+1),n.replaceWith('<a href="/profile/'+window.globalInfo.ownerId+'/clockInfo" class="btn btn-default">已打卡</a>')),a.async("../component/popupSub/popupClockSucc",function(n){var o=null;window.setTimeout(function(){o=w.mask("请稍等...")},0),window.setTimeout(function(){o&&o.hide();var t=n.show({data:e});i.ok&&t.popup.listen("close",i.ok)},2e3)})}})})})},shieldQuestion:function p(i){var a=i.shieldCls||"js-shield",l=i.unShieldCls||"js-unshield",s=i.shieldStr||""===i.shieldStr?"屏蔽本题":i.shieldStr,r=i.shieldedStr||""===i.shieldedStr?"取消屏蔽":i.shieldedStr,c="屏蔽该题，该题将不会出现在以后的组卷中。",u="取消屏蔽后，该题可能会再次出现在以后的组卷中。",t="."+a+", ."+l,n=h(t);if(n.addClass("nc-req-auth"),!v.isLogin())return;y.forEach(n,function(t){h(t).attr("title",h(t).hasClass(a)?c:u)}),n.addClass("js-nc-title-tips"),d.title(".js-nc-title-tips"),h(document).on("click",t,function(t){var n=h(t.currentTarget),o=n.hasClass(a);function e(){g.questionShield({body:{qid:i.entityId,isShield:o},call:function(){n.removeClass(o?a:l).addClass(o?l:a),n.html(o?r:s),n.attr("title",o?u:c),w.tips("操作成功")},error:function(t){w.alert(t.msg)},always:function(){m.pause(n)}})}o&&w.confirm("确定屏蔽该题后，该试题将再也不会出现以后的组卷中。",e),!o&&!m.mark(n)&&e()})},markQuestion:function b(e){var i=e.markCls||"js-mark",a=e.unMarkCls||"js-unmark",l=e.markStr||""===e.markStr?"标记一下":e.markStr,s=e.markedStr||""===e.markedStr?"已标记":e.markedStr,t="."+i+", ."+a,r="标记该题，着重查看。";C.hover(h(t),function(){o(h(this),!0)},function(){o(h(this))});var n=h(t);if(n.addClass("nc-req-auth"),!v.isLogin())return;function o(t,n){var o=t.hasClass(a);o&&t.text(n?"取消标记":s)}n.hasClass(i)&&n.attr("title",r),n.addClass("js-nc-title-tips"),d.title(".js-nc-title-tips"),h(document).on("click",t,function(t){var n=h(t.currentTarget),o=n.hasClass(i);m.mark(n)||g.questionMark({body:{qid:e.entityId,tid:e.testId,isMark:o},call:function(){o&&n.removeClass(i).addClass(a).removeAttr("data-title"),!o&&n.removeClass(a).addClass(i).attr("data-title",r),n.html(o?s:l),y.forEach(e.dtkEls,function(t){var n=(t=h(t)).attr("data-qid");if(n===e.entityId)return t[o?"addClass":"removeClass"]("mark-spot"),y.BREAK})},error:function(t){w.alert(t.msg)},always:function(){m.pause(n)}})})}}});
define("nowcoder/1.2.1280/javascripts/util/log",[],function(i,o,n){n.exports={duration:250,logs:[],log:function e(o){var t=this,n=t.logs;if(!o&&0===n.length)return;o&&(o.frontUid=o.uid||(window.globalInfo||{}).ownerId,o.logKey=o.key,o.createdAt=o.createdAt||(new Date).getTime(),n.push(o),delete o.uid,delete o.key);window.clearTimeout(t.logsTimer),t.logsTimer=window.setTimeout(function(){var n=t.logs;if(0!==n.length){var e=n.slice(0);n.length=0,i.async("../action/common",function(o){o.recordFrontLog({body:{data:JSON.stringify(e)},call:function(){t.duration=250},error:function(){t.duration=5e3,t.logs=e.concat(n)},always:function(){t.log()}})})}},t.duration)}}});
define("nowcoder/1.2.1280/javascripts/util/radar",["nc","cpn","./util","ncpc"],function(t,e,a){var r=t("nc"),o=t("cpn"),i=r.$,n=r.Str,l=t("./util"),c=o.Select;r.Base;a.exports={init:function d(t){var e=this;if(!(e.config=t).jobs||!t.details)return void e.renderNone();if(e.clearData(),0===e.selectData.length)return void e.renderNone();e.loadEcharts(function(){t.loadSucc&&t.loadSucc(),e.renderSelect()})},clearData:function s(){for(var t,e=this,a=e.config,r=a.jobs,o=a.details,i={},n={},l=[],c=0,d=r.length;c<d;c++)t=r[c],l.push({text:t.tagName,value:t.tagId,checked:0===c}),i[t.tagId]={id:t.tagId,items:[],values:[]};for(var c=0,d=o.length;c<d;c++)(t=o[c]).bigTagId&&i[t.bigTagId]&&(i[t.bigTagId].items.push({text:t.tagName,max:t.totalScore||1,min:-1*(t.totalScore||1)}),i[t.bigTagId].values.push(t.score),n[t.tagName]={id:t.tagId,text:t.tagName,right:t.rightRation,complete:t.totalCnt,diff:t.avgDiff,totalScore:t.totalScore||1,score:t.score,ratio:Math.round(t.rightRation),maximumScore:t.maximumScore});e.radarData=i,e.selectData=l,e.dialogData=n},loadEcharts:function m(t){return l.loadEcharts(t,"//static.nowcoder.com/lib/echarts-plain.js")},renderNone:function g(){var t=this.config;t.parent&&i(t.parent).replaceWith('<div class="module-body" style="text-align:center;"><img class="empty" src="//uploadfiles.nowcoder.com/images/20170720/56_1500536151274_9A754C5A4E59E12FFFC313334545F8A4"><div class="empty-tip"><a href="/profile/'+window.globalInfo.ownerId+'/basicinfo" class="link-green">完善职位信息</a>,生成技能图谱</div></div>')},renderSelect:function u(){var r=this,a=r.config;r.jobSelect=new c({size:"small",renderTo:a.selectDv,options:r.selectData,listeners:{render:function(){this.fire("change")},change:function(){var t=this.val();r.radarData[t]&&function e(t){r.renderRadar({dv:a.radarDv,data:r.radarData[t].items,value:r.radarData[t].values,formatter:function(t,e){var a=r.dialogData[t];return n.execTpl(['<div style="width:150px;">','<p style="margin-bottom:10px;">#{tagName}</p>','<p style="margin-bottom:10px;">技能值: #{score} (共#{total})</p>','<p style="margin-bottom:10px;">已完成题数: #{complete}</p>','<p style="margin-bottom:10px;">正确率: #{right}</p>','<p style="margin-bottom:10px;">平均难度: #{diff}</p>','<p style="margin-bottom:10px;">全站最高技能值: #{maximumScore}</p>',"</div>"].join(""),{tagName:a.text,score:a.score,total:a.totalScore,complete:a.complete,right:(a.right||0)+"%",diff:{1:"一星",2:"二星",3:"三星",4:"四星",5:"五星"}[a.diff]||"一星",maximumScore:a.maximumScore})}})}(t)}}})},renderRadar:function p(n){var t=i(n.dv).get(0);if(!t||!n.data||0===n.data.length)return;var e={calculable:!1,tooltip:{show:!!n.formatter,trigger:"axis",enterable:!0,hideDelay:250,borderColor:"#e0e0e0",borderWidth:1,borderRadius:2,backgroundColor:"rgba(255, 255, 255, 1)",textStyle:{color:"#333"},transitionDuration:.5,padding:15,formatter:n.formatter?function(t,e,a){var r=t[0],o=(r[0],r[1],r[2]),i=r[3];return n.formatter?n.formatter(i,o):""}:"{value}"},polar:[{indicator:n.data,radius:"50%",splitNumber:5,type:"circle",name:{formatter:"{value}",textStyle:{color:"#333"},interval:0}}],series:[{name:"技能雷达图",type:"radar",data:[{value:n.value,name:"技能值",itemStyle:{normal:{areaStyle:{color:"rgba(73, 187, 154, 0.5)",type:"default"},color:"#49b89a",lineStyle:{width:1}}}}]}]};window.echarts.init(t).setOption(e),i(t).children().css("overflow","visible")}}});
define("nowcoder/1.2.1280/javascripts/util/task",["nc","../action/api","ncpc","../action/admin"],function(e,n,t){var o=e("nc").Base,a=e("../action/api"),s=e("../action/admin");t.exports=o.extend({getTaskProgress:function i(n,t,o){var s=this;s.getAccessCode(function(e){return s.getProgress({id:t,loop:n,isAdmin:!0,query:{accessCode:e},call:o})})},getProgress:function d(s){var i=this,e=s.id,r=s.loop,c=s.call,n=s.query,t=!!s.isAdmin;a[t?"getTaskProgressAdmin":"getTaskProgress"]({params:{id:e},query:n,call:function(e){var n=e.data,t=!!n.end,o=!!n.error;c&&c(t,n.content,o,n.type),!t&&r&&window.setTimeout(function(){i.getProgress(s)},1e3)},error:function(){r&&window.setTimeout(function(){i.getProgress(s)},1e3)}})},getAccessCode:function r(n){s.getAccessCode({query:{},call:function(e){o.isFunction(n)&&n(e.data)},error:function(e){alert(e.msg)}})}})});
define("nowcoder/1.2.1280/javascripts/util/txtCmd",["nc"],function(n,t,r){var e=n("nc"),i=e.Event,c=e.Str;r.exports={parse:function u(n,e){return n?n.replace(/\[ncmd:\]([\w\W]*?)\[:ncmd\]/gi,function(n,t){var r=c.trim(t).split("::");e&&e.apply(null,r)}):void 0},resolve:function o(n){var i=this;return n?n.replace(/\[ncmd:\]([\w\W]*?)\[:ncmd\]/gi,function(n,t){var r=(t=c.trim(t)).split("::"),e=r.shift();return e&&i[e]?i[e].apply(i,r):""}):""},isCmd:function d(n){return n&&/\[ncmd:\]([\w\W]*?)\[:ncmd\]/gi.test(n)},isTop:function f(n){return n&&/\[ncmd:\]top::([\w\W]*?)\[:ncmd\]/gi.test(n)},isAuth:function m(n){return n&&/\[ncmd:\]auth\[:ncmd\]/gi.test(n)},isRefresh:function s(n){return n&&/\[ncmd:\]refresh\[:ncmd\]/gi.test(n)},isShield:function h(n){return n&&/\[ncmd:\]shield::([\w\W]*?)\[:ncmd\]/gi.test(n)},img:function a(n){return n?'<a href="'+n+'" target="_blank"><img src="'+n+'" /></a>':""},img2cmd:function l(n){return n?this.generCmd("img",n):""},href:function g(n,t){return n?'<a href="'+n+'" target="_blank">'+(t||n)+"</a>":""},href2cmd:function p(n,t){return n?this.generCmd("href",n,t):""},auth:function w(){(window.globalInfo||{}).ownerId||i.fire("window:showAuthDialog");return""},auth2cmd:function v(){return this.generCmd("auth")},refresh:function C(){window.location.reload()},refresh2cmd:function W(){return this.generCmd("refresh")},top:function b(n){return n},top2cmd:function j(n){return n?this.generCmd("top",n):""},shield:function k(n){return n},shield2cmd:function x(n){return n?this.generCmd("shield",n):""},generCmd:function y(){var n=[].slice.call(arguments,0);return 0!==n.length&&n[0]?"[ncmd:]"+n.join("::")+"[:ncmd]":""}}});
define("nowcoder/1.2.1280/javascripts/util/upload",["nc","cpn","../kit/swfupload","./util","ncpc","../core/siteConfig"],function(e,l,i){var a=e("nc"),o=e("cpn"),s=a.$,t=a.Cookie,r=a.Clazz,p=a.Sys,u=a.Base,n=a.Num;e("../kit/swfupload");var d=e("./util"),c=e("../core/siteConfig"),f=o.Popup,_=r.create();i.exports=_,u.extend(_.prototype,{initialize:function m(e){var l=this;e.fileSizeLimit=e.fileSizeLimit||5,e.fileQueueLimit=e.fileQueueLimit||1,(l.rawConfig=e).btn=e.btn||{};var i=u.clone(t.get());i.type=e.type||c.uploadType.resume,i.token=t.get("csrf_token"),i=u.extend({},i,e.postParam);var a={upload_url:e.url||"/uploadImage"+(i.type?"?type="+i.type:""),flash_url:"/swf/swfupload.swf",flash9_url:"/swf/swfupload_fp9.swf",post_params:i,file_post_name:e.postName,file_size_limit:e.fileSizeLimit+"MB",file_types:e.fileType||"*.doc;*.docx;*.pdf;",file_types_description:"文件上传",file_queue_limit:e.fileQueueLimit,debug:!1,prevent_swf_caching:!1,button_image_url:e.btn.image||"//uploadfiles.nowcoder.com/images/20160520/56_1463728821615_B856A5CA00C64BEA1A77436F8FE39D5E",button_width:e.btn.width||"220",button_height:e.btn.height||"45",button_placeholder:s(e.holderEl).get(0),button_cursor:SWFUpload.CURSOR.HAND,button_window_mode:"transparent",swfupload_preload_handler:u.bind(l.callback,l,"preload"),swfupload_load_failed_handler:u.bind(l.loadFailed,l),file_queued_handler:u.bind(l.callback,l,"fileQueued"),file_queue_error_handler:u.bind(l.fileQueueError,l),file_dialog_start_handler:u.bind(l.callback,l,"fileDialogStart"),file_dialog_complete_handler:u.bind(l.fileDialogComplete,l),upload_start_handler:u.bind(l.uploadStart,l),upload_progress_handler:u.bind(l.uploadProgress,l),upload_error_handler:u.bind(l.uploadError,l),upload_success_handler:u.bind(l.uploadSuccess,l),upload_complete_handler:u.bind(l.callback,l,"uploadComplete"),queue_complete_handler:u.bind(l.callback,l,"queueComplete")};l.swfUpload=new SWFUpload(a)},callback:function g(e){var l=this.rawConfig,i=window.Array.prototype.slice.call(arguments,1);if(l[e])return l[e].apply(l.target||this,i)},loadFailed:function h(){if(!1===this.callback("loadFailed"))return;f.alert("flash 加载失败，请检查您的浏览器是否支持 flash")},fileQueueError:function b(e,l,i){var a=this.rawConfig,o=l===SWFUpload.QUEUE_ERROR.QUEUE_LIMIT_EXCEEDED?"一次只能选择"+a.fileQueueLimit+"个文件":l===SWFUpload.QUEUE_ERROR.FILE_EXCEEDS_SIZE_LIMIT?"上传的文件不能超过"+a.fileSizeLimit+"M":l===SWFUpload.QUEUE_ERROR.ZERO_BYTE_FILE?"不能上传空文件":l===SWFUpload.QUEUE_ERROR.INVALID_FILETYPE?"上传的文件格式不正确":i||"抱歉，上传发生错误，请稍后";if(!1===this.callback("fileQueueError",e,l,o))return;f.alert(o)},fileDialogComplete:function v(e,l){if(!1===this.callback("fileDialogComplete",e,l))return;try{this.swfUpload.startUpload()}catch(i){}},uploadStart:function E(e){return this.callback("uploadStart",e),!0},uploadProgress:function w(e,l,i){var a=this;if(p.out(l),!1===a.callback("uploadProgress",e,l,i))return;var o=(100*l/(i||1)).toFixed(2);a.popup?(a.popup.getEl().find("#jsPopupProgressTips").html('<div class="upload-progress-bar"><span class="progress-txt">正在上传：'+o+'%</span><div class="progressing" style="width:'+o+'%;"></div></div>'),l===i&&(a.saveTipsTimer=window.setTimeout(function(){a.saveTipsTimer=null,a.popup.getEl().find("#jsPopupProgressTips").html('<div class="upload-progress-bar"><span class="progress-txt">正在保存，请稍后</span><div class="progressing" style="width:100%;"></div></div>')},100))):a.popup=new f({title:"",noUnique:!0,content:'<div id="jsPopupProgressTips" class="subject-upload-inner" style="margin:0"><div class="upload-progress-bar"><span class="progress-txt">正在上传：'+o+'%</span><div class="progressing" style="width:'+o+'%;"></div></div></div>',width:540,hasNoTitle:!0,hasNoMove:!0,hasNoMargin:!0})},uploadError:function T(e,l,i){var a=this;a.saveTipsTimer&&(window.clearTimeout(a.saveTipsTimer),a.saveTipsTimer=null);if(!1===a.callback("uploadError",e,l,i))return;i=i||"上传失败",a.popup?(a.popup.getEl().find("#jsPopupProgressTips").html('<a href="javascript:void(0);" class="btn btn-block btn-default"><span class="upload-rusult-ico"><span class="fui-cross"></span></span>'+i+"</a>"),s(document).one("click",function(){a.popup.close(),a.popup=null})):f.alert("上传失败，请重试")},uploadSuccess:function S(e,l){var i=this;i.saveTipsTimer&&(window.clearTimeout(i.saveTipsTimer),i.saveTipsTimer=null);var a=u.json(l);if(0!==a.code)return void i.uploadError(e,a.code,a.msg);var o={tmpId:(new Date).getTime(),url:a.url,fileName:d.getFileName(a.url),fileSize:n.byte2Size(e.size)};i.popup&&(i.popup.getEl().find("#jsPopupProgressTips").html('<a href="javascript:void(0);" class="btn btn-block btn-primary"><span class="upload-rusult-ico"><span class="fui-check"></span></span>上传完成</a>'),setTimeout(function(){i.popup.close(),i.popup=null},1500));i.callback("uploadSuccess",e,o)}})});
define("nowcoder/1.2.1280/javascripts/util/util",["nc","ncpc"],function(e,t,n){var r=e("nc"),o=e("ncpc"),a=r.$,d=r.Clazz,l=(r.Str,r.Sys),i=r.Base,c=(r.Time,r.Dom,r.Uri),p=(o.Env,o.Util);n.exports={page:function s(i,c){i=i||{},c=c||{},l.ready({initialize:function(){var o=d.create();e.async("../component/page",function(e){if(d.mix(o,e,i,c),o._template){var t=a(o.renderTo);new o({renderTo:t.get(0)||a(document.body),renderBy:o.renderBy})}else{var n=new o({noRender:!0}),r=a(o.el).get(0)||document.body;n.$el=a(r),n.el=a(n.$el).get(0),n.render()}})}})},getNavHeight:i.bind(p.getNavHeight,p),getFileName:function u(e){return(e=e||"").split("_").pop()||e},loadEcharts:i.bind(p.loadEcharts,p),fixUrlProtocol:function m(e){if(!(e=a.trim(e)))return e;var t=this._tmpA=this._tmpA||document.createElement("A");t.href=e;var n=t.hostname;if(n.indexOf("nowcoder.com")<0&&n.indexOf("aliyuncs.com")<0)return e;return e.replace(/^https?\:/,"")},getPdfPreviewUrl:function f(e){var t=0<=(e||"").split("?")[0].indexOf("qqstatic.nowcoder.com"),n=/^https:/.test(window.location.href),e=(e||"").replace(/^https:\/\//,"").replace(/^http:\/\//,"").replace("nowcoder.net","nowcoder.com");return e=(n?"https://":"http://")+e,(n?"https:":"http:")+"//ow365.cn/?i="+(t?"17827":"10072")+(n?"&ssl=1":"")+"&furl="+window.encodeURIComponent(e)},getUploadUrl:function h(e){return c.addParam({type:e},"/uploadImage")}}});
define("nowcoder/1.2.1280/javascripts/action/acm-admin",["ncpc"],function(e,t,s){var a=e("ncpc").Ajax,n=s.exports={url:{conversationList:"/acm/contest/admin/messages/conversations",markReplied:"/acm/contest/admin/messages/mark-replied",toAllMessage:"/acm/contest/admin/messages/to-all",messagesList:"/acm/contest/admin/messages",newMessages:"/acm/contest/admin/messages",updateDescription:"/admin/acm/update-description",getContest:"/acm/contest/admin/contest_info_with_problem",createContest:"/acm/contest/admin/create_contest",editContest:"/acm/contest/admin/edit_contest_info",editContestProblem:"/admin/acm/edit_contest_problem",hrIdList:"/acm/contest/admin/hr_id_list",hrProblemList:"/acm/contest/admin/hr_problem_list",problem:"/admin/acm/problem"}};a.add(s.exports,n.url)});
define("nowcoder/1.2.1280/javascripts/action/activity",["ncpc"],function(e,i,t){var o=e("ncpc").Ajax;t.exports={url:{getLovedTags:"/activity/getLovedTags",saveLovedTags:"/activity/saveLovedTags",share:"/share/bonus",getInviteFriends:"/activity/getInviteFriends",getLotteryWinRecords:"/activity/getLotteryWinRecords",getBonusRecords:"/activity/getBonusRecords",lottery:"/activity/lottery",reglotteryinfo:"/activity/reglotteryinfo",getRecommendComment:"/activity/recommendComment",taipeiSignUp:"/activity/internship2015/signup",forwardVillageSignUp:"/activity/189/signup",rewardBalanceDetail:"/activity/balance/detail",rewardCodeRankDetail:"/activity/coderank/detail",getLingziliaoPdf:"/activity/lingziliao/pdf",calendarSignUp:"/activity/calendar/signup",query2016Time:"/activity/2016time/query",recommand:"/recommand/activity",recommandStep1:"/recommand/step1",recommandSign:"/recommand/sign",recommandCancel:"/recommand/cancel",recommandV2Step1:"/recommand/v2/step1",unrecommandJobApply:"/recommand/unsign/job",getRecommandStep1Data:"/recommand/v2/step1-data",recommendInternJobApply:"/recommend-intern/sign/job",unrecommendInternJobApply:"/recommend-intern/unsign/job",updateRecommendInternResume:"/recommend-intern/update/resume",getRecommendInternJobList:"/recommend-intern/list",ojActivity:"/activity/list/ojtopic",mockInterviewSignUp:"/activity/2016interview/signup",queryMogujieUser:"/recommand/query/mogujie",signUpDirectOffer:"/activity/direct-offer/signup",getProjectCourseCoupon:"/activity/project-courses/coupon",signUpThoughtWorksPair:"/activity/thoughtworks-pair/signup",followCampus:"/activity/campus/follow",unfollowCampus:"/activity/campus/unfollow",collect2016:"/activity/collect2016/upload",collect2016lottery:"/activity/collect2016/lottery",getCollect2016Info:"/activity/collect2016/info",getPatCode:"/pat/code",mockexam2017sign:"/activity/MockExam2017/join",iqiyi2017sign:"/activity/iqiyi2017/signup",meituan2017sign:"/activity/2017codem/sign",meituan2017rankEnd:"/activity/2017codem/index/rank-end",meituan2017rankRealTime:"/activity/2017codem/real-time-rank-data",lexin2017sign:"/activity/lexin2017/signup",lexin2017solve:"/activity/lexin2017/bigdata/solve",lexin2017rankEnd:"/activity/lexin2017/index/rank-end",offerShowChoose:"/show-offer/choose",offerShowChooseResult:"/show-offer/choose-result",offerShowChooseResultJson:"/show-offer/choose-result-json",offerShowStatistic:"/show-offer/statistic",offerShowCompanyOccupationStatistic:"/show-offer/statistic-company-occupation",offerShowCompareSave:"/show-offer/compare-save",offerShowCompareResult:"/show-offer/compare-result",offerShowCompareResultJson:"/show-offer/compare-result-json",offerShowDelOffer:"/show-offer/del-offer",nowcoderGirlsRank:"/activity/nowcodergirls/ranks",nowcoderGirlsCheckDone:"/activity/nowcodergirls/check_done",oversea2018Join:"/activity/2018oversea/join",oversea2018CheckDone:"/activity/2018oversea/check_done",cmb2018rankEnd:"/activity/2018cmbchina/index/rank-end",cmb2018Solve:"/activity/2018cmbchina/bigdata/solve",cmb2018sign:"/activity/2018cmbchina/sign",cmb2018overseasign:"/activity/2018cmbchina/oversea_sign",cmb2018CodeSolve:"/activity/2018cmbchina/bigdata/code/solve",mockExamRank:"/mockexam/MockExam/ranks",mockExamSign:"/mockexam/MockExam/signup",zte2018Two:"/activity/zte2018/2/solve",zte2018Three:"/activity/zte2018/3/solve",zte2018Four:"/activity/zte2018/4/solve",zte2018Seven:"/activity/zte2018/7/solve",zte2018Eight:"/activity/zte2018/8/solve",gbits2018rankEnd:"/activity/2018g-bits/index/rank-end",gbits2018sign:"/activity/2018g-bits/sign",tw2018sign:"/activity/2018tw/sign",meituan2018sign:"/activity/2018codem/sign",meituan2018rankEnd:"/activity/2018codem/index/rank-end",recommandjob2019Projects:"/activity/2019recommand/projects",recommandjob2019Jobs:"/activity/2019recommand/jobs",recommandjob2019Users:"/activity/2019recommand/users",recommandjob2019Ranks:"/activity/2019recommand/ranks",recommandjob2019Ling:"/activity/2019recommand/ling",mockDoneInfo:"/mockexam/MockExam/done/info",warmspring2019Projects:"/activity/2019warmspring/projects",warmspring2019Jobs:"/activity/2019warmspring/jobs",sp2020Projects:"/activity/2020sp/projects",sp2020Complaint:"/activity/2020sp/complaint"}},o.add(t.exports,t.exports.url)});
define("nowcoder/1.2.1280/javascripts/action/addquestion",["ncpc"],function(e,t,n){var i=e("ncpc").Ajax;n.exports={url:{sendAddQuestion:"/userquestion/v3/new",searchTip:"/tag/search",getTagByParentId:"/tag/parent",sendEditQuestion:"/userquestion/v3/edit",sendAdminEditQuestion:"/admin/edit/question",acceptQuestionByAdmin:"/audit/accept",rejectQuestionByAdmin:"/audit/reject",changeDesignQuestionByAdmin:"/audit/reEditDesignQ/transform",sendAddQuestionV4:"/userquestion/v4/new",auditQuestionV4:"/userquestion/v4/finish",correctQuestion:"/admin/corrections/#{correctionId}/status"}},i.add(n.exports,n.exports.url)});
define("nowcoder/1.2.1280/javascripts/action/admin",["ncpc"],function(e,a,i){var s=e("ncpc").Ajax;i.exports={url:{showCtsConversations:"/admin/cts-message/#{paperId}/conversations",showMessageList:"/admin/cts-message/#{paperId}/#{conversationId}/messages",uploadImg:"/admin/advert/uploadImage",designCorrect:"/admin/contest/design/correct",markReplied:"/admin/cts-message/#{paperId}/mark-replied",getAccessCode:"/admin/hr/account/access_code",millionQuestionPushQuestion:"/admin/activity/millonQuestion/question/push",millionQuestionPushAnswer:"/admin/activity/millonQuestion/answer/push",millionQuestionPushFinal:"/admin/activity/millonQuestion/finalresult/push",millionQuestionEndContest:"/admin/activity/millonQuestion/contest/end",millionQuestionRestart:"/admin/activity/millonQuestion/restart",getAppCourseList:"/admin/app/courses/list",saveAppCourses:"/admin/app/courses/save",saveAppAndroidReleaseApk:"/admin/app/release/update-android-apk",editInformAgainst:"/admin/hr/inform-against/edit",markCommentSpam:"/admin/mark-comment-spam",markNoteSpam:"/admin/mark-note-spam",washNoteWhite:"/admin/spam-note-wash-white",markUserAllCommentSpam:"/admin/delete-all-ugc",markBookListSpam:"/admin/mark-book-list-spam",deleteAllUgc:"/admin/delete-all-ugc",whiteBookListSpam:"/admin/spam-book-list-wash-white",passReport:"/report/pass",rejectReport:"/report/reject",addCommunity:"/admin/company/community/add",retagPass:"/admin/feed/retag/pass",retagFix:"/admin/feed/retag/fix",batchDeleteComment:"/admin/batch-delete-ugc"}},s.add(i.exports,i.exports.url)});
define("nowcoder/1.2.1280/javascripts/action/api",["ncpc"],function(e,t,i){var r=e("ncpc").Ajax,s="api.nowcoder.com";window.isTencentCloud&&(s="qqapi.nowcoder.com");var v=i.exports={domain:s,url:{aiPutRoomData:"/v1/ai/interview/#{roomId}/room_data",aiGetQuestion:"/v1/ai/interview/question",aiAudio2Text:"/v1/ai/interview/speech-process",checkCodeAndGetUrl:"/v1/interviews/#{roomId}/urls/#{identity}",getQuestions:"/v1/questions",saveEvaluation:"/v1/interviews/#{id}/evaluations",getInterviewResult:"/v1/interviews/#{id}/evaluations",putRoomData:"/v1/interviews/#{roomId}/room_data",putSharedData:"/v1/interviews/#{roomId}/#{type}/shared_data",pingInterview:"/v1/interviews/#{id}/ping",pingV2Interview:"/v1/user/interviews-v2/#{id}/updateInterviewInfo",runCode:"/v2",runSelfCode:"/v1/judge/submit_self_test_withoutdata",getSelfCodeStatus:"/v1/judge/status",submitCode:"/v1/judge/submit_cd",submitCodeStatus:"/v1/judge/status",saveResumeUrl:"/v1/interviews/#{roomId}/resumeUrl",delResumeUrl:"/v1/interviews/#{roomId}/resumeUrl",saveTestResultUrl:"/v1/interviews/#{roomId}/testResultUrl",delTestResultUrl:"/v1/interviews/#{roomId}/testResultUrl",checkInInterview:"/v1/interviews/#{roomId}/check-in",checkSuccessInterview:"/v1/interviews/#{roomId}/check-status",remindInterviewer:"/v1/interviews/#{roomId}/remind-interviewer",prePingInterview:"/v1/user/interviews-v2/#{roomId}/pre-ping",preIntervieweePing:"/v1/user/interviews-v2/#{roomId}/interviewee-pre-ping",getQuestionTag:"/v1/user/tags",getQuestionDraft:"/v1/questions/draft",updateQuestionDraft:"/v1/questions/draft",testReport:"/v1/user/test-data/test_report",getTaskProgressAdmin:"/v1/job-progress/inner-#{id}",getTaskProgress:"/v1/job-progress/#{id}",createSelfInterview:"/v1/interview/self-service",getSelfInterviewNoticeStatus:"/v1/interview/self-service/notice-status",sendNoticeSelfInterview:"/v1/interview/self-service/send-notice",getInterviewers:"/v1/interview-projects/interviewers",getInterviewees:"/v1/interview-projects/interviewees",getJobs:"/v1/interview-projects/jobs",getIntervieweeResume:"/v1/interviews/#{roomId}/interviewee-resume",getIntervieweeTestResult:"/v1/interviews/#{roomId}/interviewee-test-result"}};r.add(i.exports,v.url,v.domain)});
define("nowcoder/1.2.1280/javascripts/action/blog",["ncpc"],function(o,e,l){var s=o("ncpc").Ajax;l.exports={url:{listBlogAnswers:"/blog/answer/list",newestBlog:"/blog/newest",searchBlog:"/blog/query",postCollect:"/blog/postCollect"}},s.add(l.exports,l.exports.url)});
define("nowcoder/1.2.1280/javascripts/action/books",["ncpc"],function(n,o,r){var a=n("ncpc").Ajax;r.exports={url:{codingInterviewsRank:"/books/coding-interviews/#{uuid}/rank_data"}},a.add(r.exports,r.exports.url)});
define("nowcoder/1.2.1280/javascripts/action/campus",["ncpc"],function(n,p,o){var c=n("ncpc").Ajax;o.exports={url:{campusSignUp:"/campus/signup",getSignUpInfo:"/campus/signupInfo",editSignUpInfo:"/campus/signupInfo/edit",getJobInfo:"/campus/jobInfo"}},c.add(o.exports,o.exports.url)});
define("nowcoder/1.2.1280/javascripts/action/careertalk",["ncpc"],function(e,a,r){var t=e("ncpc").Ajax;r.exports={url:{filter:"/careertalk/filter",suggest:"/careertalk/suggest",subscribe:"/careertalk/subscribe",unsubscribe:"/careertalk/un-subscribe",getAllProvCandidate:"/careertalk/province-candidate",addTalk:"/careertalk/add",editTalk:"/careertalk/edit",delTalk:"/careertalk/del",getTalk:"/careertalk/#{id}"}},t.add(r.exports,r.exports.url)});
define("nowcoder/1.2.1280/javascripts/action/circle",["ncpc"],function(c,e,r){var i=c("ncpc").Ajax;r.exports={url:{quitCircle:"/circle/quit",applyCircle:"/circle/apply",createCircle:"/circle/create",exploreCircle:"/circle/center/data",kickMember:"/circle/kick-out",operate:"/circle/operate",getCircleList:"/circle/circle-list"}},i.add(r.exports)});
define("nowcoder/1.2.1280/javascripts/action/clock",["ncpc"],function(o,c,e){var n=o("ncpc").Ajax;e.exports={url:{newClockRecord:"/clock/new",getTodayClockInfo:"/clock/todayInfo",getDayInfo:"/clock/dayInfo",getMonthInfo:"/clock/monthInfo",getShareImage:"/clock/share-image"}},n.add(e.exports,e.exports.url)});
define("nowcoder/1.2.1280/javascripts/action/code",["ncpc"],function(t,s,e){var a=t("ncpc").Ajax;e.exports={url:{submitCode:"/submit_cd",runCode:"/submit",selfTestCode:"/submit_cd_selftest_withoutdata",status:"/status",selfTestStatus:"/status-self-test",bigDataRun:"/bigdata/submit",bigDataStatus:"/bigdata/status",submitDmInPaper:"/submit_dm_in_paper",submitDmInTerminal:"/submit_dm_in_terminal",newDmStatus:"/new_dmstatus",getOtherDoneInfo:"/test/question/otherdone",otherSubmission:"/profile/otherSub/#{baseSubmissionId}"}},a.add(e.exports,e.exports.url)});
define("nowcoder/1.2.1280/javascripts/action/coin",["ncpc"],function(e,c,o){var n=e("ncpc").Ajax;o.exports={url:{getAddress:"/coin/default-address",getDetail:"/coin/products",buyVirtual:"/coin/buy-virtual",buyReal:"/coin/buy-real",getCompleteCoin:"/coin/get-complete-info-money",cancelOrder:"/coin/cancel-order"}},n.add(o.exports,o.exports.url)});
define("nowcoder/1.2.1280/javascripts/action/common",["ncpc"],function(e,a,n){var o=e("ncpc").Ajax;n.exports={url:{uploadImage:"/uploadImage",uploadImageOnline:"/upload-image-online",faceDetect:"/face-detect",recordFrontLog:"/front-log/add",syncResult:"/sync/result",wyAppeal:"/wangyi/appeal",systemTime:"/common/system-time",companySearchName:"/company/search-name",getConfig:"/environment/config"}},o.add(n.exports,n.exports.url)});
define("nowcoder/1.2.1280/javascripts/action/community",["ncpc"],function(m,e,t){var o=m("ncpc").Ajax;t.exports={url:{newCommunityComment:"/community/comment/create",editCommunityComment:"/community/comment/edit",delCommunityComment:"/community/comment/del",getColleague:"/community/colleague",getBriefExpPost:"/community/brief/exppost/#{id}"}},o.add(t.exports,t.exports.url)});
define("nowcoder/1.2.1280/javascripts/action/company",["ncpc"],function(a,e,t){var n=a("ncpc").Ajax;t.exports={url:{companySignUp:"/company/signUp",companySearchName:"/company/search-name",authenticateUserStep1:"/user/authentication/step1",authenticateUserStep2:"/user/authentication/step2",authenticateUserValidate:"/user/authentication/validate"}},n.add(t.exports,t.exports.url)});
define("nowcoder/1.2.1280/javascripts/action/contest",["ncpc"],function(e,t,n){var s=e("ncpc").Ajax;n.exports={url:{reserve:"/reserve/#{paperId}/do",unReserve:"/reserve/#{paperId}/undo",isFollow:"/sns/is-follow",follow:"/sns/follow",unfollow:"/sns/unfollow",multiFollow:"/sns/multi_follow",multiUnfollow:"/sns/multi_unfollow",getFollowData:"/sns/followdata",createFollowTags:"/sns/followtags/create",editFollowTags:"/sns/followtags/edit",updateFollowTag:"/sns/followtags/update",like:"/sns/like",unlike:"/sns/del_like",comment:"/comment/create",delComment:"/comment/delete",getComment:"/comment/list",getUserComment:"/comment/self-comment",getCommentByPage:"/comment/listByPage",getCommentByPageV2:"/comment/list-by-page-v2",getCommentPageNum:"/comment/pageNum",getWonderfulCommentList:"/comment/woderful/list",newWonderfulComment:"/comment/wonderful",delWonderfulComment:"/comment/unwonderful",getAcceptedList:"/comment/accepted/list",acceptComment:"/comment/accept",newLitigantComment:"/comment/litigant",delLitigantComment:"/comment/un-litigant",getRefAnswer:"/comment/recommendComment?questionId=#{questionId}",getCaptcha:"/captcha/#{type}",correction:"/corrections/v2",setRefAnswer:"/audit/setReferAnswerFromCmt",unsetRefAnswer:"/audit/unsetReferAnswerFromCmt",setRightAnswer:"/audit/setRightAnswer",getLikeUsers:"/sns/likeUsers",testPing:"/test/updateInfo",testRestart:"/test/restart",testStop:"/test/stop",testContestPing:"/contest/updateInfo",saveAnswerDraft:"/answer/draft/save",getAnswerDraft:"/answer/draft/get",editAnswer:"/comment/editAnswer",getQuestionInfo:"/getQuestionInfo",wantAnswer:"/want-answer/want",cancelWantAnswer:"/want-answer/cancel",getQuestionQr:"/qr/question/#{uuid}",addLeave:"/contest/addLeave",getLatestSubmission:"/practice/latestSubmission",getLatestAcceptSubmission:"/practice/latestAcceptSubmission",sendCtsPhoneCode:"/cts/phone_code",validateCtsPhoneCode:"/cts/validate_phone_code",correctPerson:"/test/code/lanuage",questionShield:"/question/shield",questionMark:"/question/mark",blackUser:"/sns/black",unblackUser:"/sns/unblack",blockUser:"/sns/shield",unblockUser:"/sns/un-shield"}},s.add(n.exports,n.exports.url)});
define("nowcoder/1.2.1280/javascripts/action/courses",["ncpc"],function(e,s,t){var o=e("ncpc").Ajax;t.exports={url:{judgeQuestion:"/judge/question",codeDoneRight:"/courses/code_done_right",doneVideo:"/courses/video_done",getVideoCode:"/courses/get_video_code",checkStatus:"/payment/check_status",liveCourseDone:"/live/video_done",getSignInfo:"/courses/semester/signInfo",applyCourseRetest:"/study/#{courseType}/apply/retest",applyCourseFeedback:"/study/#{courseType}/#{courseId}/feedback",doneOther:"/study/other_done",assistantsTestDetail:"/study/assistants/test/detail",assistantsIgnoreComment:"/study/assistants/comment/ignore",listCoverClassMate:"/courses/cover/#{courseType}/#{courseId}/class-mate",buyInstituteCource:"/courses/institute/nccoin/buy"}},o.add(t.exports,t.exports.url)});
define("nowcoder/1.2.1280/javascripts/action/deliver",["ncpc"],function(e,r,c){var a=e("ncpc").Ajax;c.exports={url:{checkReferralSource:"/careers/referral/check-source"}},a.add(c.exports,c.exports.url)});
define("nowcoder/1.2.1280/javascripts/action/discuss",["ncpc"],function(s,i,d){var t=s("ncpc").Ajax;d.exports={url:{getHotTagJson:"/discuss/tag/hot/json",getAllTagJson:"/discuss/tag/all/json",createPost:"/discuss/create",editPost:"/discuss/edit",deletePost:"/discuss/delete",saveDiscussDraft:"/discuss/draft/save",getDiscussDraft:"/discuss/draft/get",top:"/discuss/top",untop:"/discuss/untop",gild:"/discuss/gild",ungild:"/discuss/ungild",updateCertify:"/discuss/certify",sink:"/discuss/sink",unsink:"/discuss/unSink",hidden:"/discuss/hidden",unhidden:"/discuss/unhidden",unWarningPost:"/discuss/unWarningPost",hot:"/discuss/hot",unhot:"/discuss/unhot",getSimilarList:"/search/similar-post",getUserRecommend:"/discuss/users/recommend",invitedUser:"/discuss/users/invited",spam:"/admin/mark-post-spam",unspam:"/admin/spam-post-wash-white",allspam:"/admin/delete-all-ugc",getAllTag:"/discuss/tag/exp",predictPostAttr:"/discuss/predict"}},t.add(d.exports,d.exports.url)});
define("nowcoder/1.2.1280/javascripts/action/enterprise",["ncpc"],function(e,r,p){var t=e("ncpc").Ajax;p.exports={url:{auditQuestion:"/profile/enterprise/score/update",addTpl:"/paper/#{userId}/template/new",removeTpl:"/paper/#{userId}/template/delete"}},t.add(p.exports,p.exports.url)});
define("nowcoder/1.2.1280/javascripts/action/feed",["ncpc"],function(e,r,d){var t=e("ncpc").Ajax;d.exports={domain:"feed.nowcoder.com",domainDev:"d.feed.nowcoder.com",url:{createMoment:"/moment/create",deleteMoment:"/moment/delete",createShare:"/share/create",deleteShare:"/share/delete",refresh:"/feed/refresh",getMore:"/feed/more",hasMore:"/feed/has-more",getLinkDetail:"/moment/outer-link",getFeedDetail:"/feed/detail",getTimeLine:"/feed/timeline",shieldFeed:"/feed/shield",deleteFeed:"/feed/delete",refreshCircle:"/feed/circle/refresh",getMoreCircle:"/feed/circle/more",hasMoreCircle:"/feed/circle/has-more"}},t.add(d.exports)});
define("nowcoder/1.2.1280/javascripts/action/git",["ncpc"],function(e,t,o){var s=e("ncpc").Ajax;o.exports={domain:"git.nowcoder.com",domainDev:"gitd.nowcoder.com",url:{ownedProject:"/projects/owned",getStarProject:"/projects/starred",createProject:"/projects/new",getProject:"/projects/info",updateProject:"/projects/update",deleteProject:"/projects/delete",getEmail:"/users/info",updateAccount:"/users/update",startProject:"/projects/square/new",myProjectInfo:"/projects/square/info",classmateProjectInfo:"/projects/square/classmates/info",listSSH:"/users/ssh/list",addSSH:"/users/ssh/add",deleteSSH:"/users/ssh/delete"}},s.add(o.exports)});
define("nowcoder/1.2.1280/javascripts/action/intern",["ncpc"],function(o,e,r){var n=o("ncpc").Ajax;r.exports={url:{newHrAccount:"/job/new-account",internCenter:"/job/center",delJob:"/job/del",getJobs:"/job/list",hideJob:"/job/hide",revertHideJob:"/job/revert-hide",downJob:"/job/down",revertDownJob:"/job/revert-down",forbidHr:"/job/forbid"}},n.add(r.exports,r.exports.url)});
define("nowcoder/1.2.1280/javascripts/action/interview",["ncpc"],function(e,i,n){var t=e("ncpc").Ajax;n.exports={url:{aiUpdateTime:"/interview/ai/#{roomId}/updateInterviewInfo",aiFinishInterview:"/interview/ai/finish",aiCreateInterview:"/interview/ai/create",aiSelfEvaluattion:"/interview/ai/self-evaluation",aiSaveAnswerText:"/interview/ai/answer-text",interviewCenterQuery:"/interview/center/query",interviewBookConfirm:"/interview/confirm",checkInterviewer:"/interview/scene/#{sceneId}/check",checkOutInterview:"/interview/scene/#{sceneId}/check-out",nextInterviewer:"/interview/scene/#{sceneId}/next",updateAlloc:"/interview/scene/#{sceneId}/update-alloc",unCheck:"/interview/scene/interviewee-uncheck",pingInterviewer:"/interview/scene/#{sceneId}/updateInfo-interviewer",sendAllocMpMsg:"/interview/scene/#{sceneId}/send-alloc-event",updateInterviewerTime:"/interview/scene/#{sceneId}/update-interviewer-time",getWaitList:"/interview/scene/#{sceneId}/#{interviewerId}/wait-list",pingAlloc:"/interview/scene/#{sceneId}/updateInfo-alloc",addCall:"/interview/scene/#{sceneId}/call",getWindowData:"/interview/scene-window/#{publicSceneId}/all",getCalling:"/interview/scene-window/#{publicSceneId}/calling",markCallVoiced:"/interview/scene-window/#{publicSceneId}/mark-voiced",gotoInterviewInScene:"/interview/scene/#{sceneId}/goto-interview",testData:"/test/video/interview/v2/testdata",feedback:"/interview/feedback",getRemarkParam:"/interview/scene/#{sceneId}/room-code",recoverSign:"/interview/scene/#{sceneId}/recover-check"}},t.add(n.exports,n.exports.url)});
define("nowcoder/1.2.1280/javascripts/action/library",["ncpc"],function(o,r,i){var l=o("ncpc").Ajax;i.exports={url:{like:"/library/books/like",follow:"/library/book-list/follow",addDouBanBook:"/library/books/add",addBook:"/library/books/add-manual",getBook:"/library/books/search",addBookList:"/library/book-list/do-create",editBookList:"/library/book-list/do-edit",delBookList:"/library/book-list/delete",delBook:"/library/book-list/delete-book",getBookListType:"/library/book-list-type",getBookType:"/library/book-type",getRecentBookList:"/library/book-list/user-list-info",searchBookList:"/library/book-list/query",addToBookList:"/library/book-list/add-book",getCourse:"/library/tutorial",getBookInfo:"/library/books/book-info",commentRecommend:"/library/books/comment-recommend",oneWordInfo:"/library/books/one-word-info",oneWordComment:"/library/books/one-word-comment",getBookByTitle:"/library/reading-note/by-title",gild:"/library/book-list/gild",ungild:"/library/book-list/ungild"}},l.add(i.exports,i.exports.url)});
define("nowcoder/1.2.1280/javascripts/action/live",["ncpc"],function(e,s,i){var n=e("ncpc").Ajax;i.exports={url:{sendLiveMessage:"/live/dms/send_message",askQuestion:"/live/weekly/ask_question",retrieveHistory:"/live/dms/history",signUpLiveCourse:"/live/courses/signup",signUpLiveCourseV2:"/live/courses/sign-up-v2",resolveQuestion:"/live/weekly/anchor/resolve_question",ping:"/live/weekly/updateInfo",getQuestions:"/live/weekly/anchor/questions",getOnlineData:"/live/weekly/anchor/online_data",getLivePublishKey:"/live/front/get_publish_key",banUser:"/admin/livecourses/ban",banUserJson:"/admin/livecourses/ban/json",deleteQuestion:"/live/weekly/anchor/delete_question",deleteMessage:"/live/dms/delete_message"}},n.add(i.exports,i.exports.url)});
define("nowcoder/1.2.1280/javascripts/action/login",["ncpc"],function(e,t,a){var o=e("ncpc").Ajax;a.exports={url:{login:"/login/do",register:"/register/new",basicInfo:"/completeness/user-info",completeness:"/completeness/connect",saveCompleteness:"/completeness/save",checkEmail:"/register/check-email-available",changePwd:"/set-new-password",setNewPwd:"/set-new-pwd",bridge:"/bridge-to-mobile",logout:"/logout/do",checkPhone:"/register/check-phone-available",activeResetPhone:"active-reset-phone",activeResetEmail:"active-reset-email",checkNickName:"/register/check-nickname-available",checkLoginOtherPlace:"/token/login-other-place",getGtData:"/captcha/geetest/#{type}",getSMSSupportCountries:"/helper/sms/supported_countries",wechatMpLoginStatus:"/oauth2/login/wechat_mp_status",wechatMpQrCode:"/oauth2/login/wechat_qr_code",getOauthState:"/register/oauthState"}},o.add(a.exports,a.exports.url)});
define("nowcoder/1.2.1280/javascripts/action/message",["ncpc"],function(s,e,n){var a=s("ncpc").Ajax;n.exports={url:{delMessage:"/sns/message/del-msg",delConversation:"/sns/message/del-conversation",sendMessage:"/sns/message/send-msg",queryUsers:"/sns/message/query-users",queryRecentlyUses:"/sns/message/recently-sent-users",queryUnreadCount:"/sns/message/count",atSuggest:"/at/suggest",setAllRead:"/sns/message/#{uid}/all-read",getConversationList:"/sns/message/#{uid}/get-conversation-list",getMsgList:"/sns/message/#{uid}/get-msg-list"}},a.add(n.exports,n.exports.url)});
define("nowcoder/1.2.1280/javascripts/action/note",["ncpc"],function(e,t,o){var n=e("ncpc").Ajax;o.exports={url:{newNote:"/note/new",editNote:"/note/edit/#{noteId}",delNote:"/note/del/#{noteId}",saveDraft:"/note/draft/new",delDraft:"/note/draft/delete",getNoteData:"/note/data",newestNotes:"/note/newest",queryNotes:"/note/query"}},n.add(o.exports,o.exports.url)});
define("nowcoder/1.2.1280/javascripts/action/paper",["ncpc"],function(e,t,n){var p=e("ncpc").Ajax;n.exports={url:{judge:"/test/judge",getAllQuestion:"/test/get-all-question",getCompanyPaperMenu:"/paper/get-company-paper-menu",finish:"/test/finish",subscribeNewPaper:"/mailing-list"}},p.add(n.exports,n.exports.url)});
define("nowcoder/1.2.1280/javascripts/action/pat",["ncpc"],function(t,e,r){var a=t("ncpc").Ajax;r.exports={url:{getPATResult:"/pat/result"}},a.add(r.exports,r.exports.url)});
define("nowcoder/1.2.1280/javascripts/action/plan",["ncpc"],function(n,r,e){var t=n("ncpc").Ajax;e.exports={url:{registerPlan:"/plan/register",unregisterPlan:"/plan/unregister",getPlanActivitys:"/plan/activity"}},t.add(e.exports,e.exports.url)});
define("nowcoder/1.2.1280/javascripts/action/profile",["ncpc"],function(e,o,t){var a=e("ncpc").Ajax;t.exports={url:{updateProfileInfo:"/profile/update-user-profile",updateNickname:"/profile/#{uid}/nickname",updateWorkInfo:"/profile/#{uid}/work",updateEducationInfo:"/profile/#{uid}/school",updateAdditionType:"/profile/#{uid}/addition/type",updateAdditionJob:"/profile/#{uid}/addition/job",updateResumeInfo:"/profile/update-resume-info",getUserInfo:"/profile/#{uid}/info",saveAllEduaction:"/profile/saveAllEduaction",saveAllWork:"/profile/saveAllWork",saveAllAttachment:"/profile/saveAllAttachment",updateEmail:"/profile/update-email",updatePwd:"/profile/change-pwd",saveHead:"/saveHead",validatePhoneV2:"/register/validate-phone-v2",activePhone:"/register/active-phone",activePhoneOauth:"/register/active-phone-oauth",validateEmail:"/register/validate-email",activeEmail:"/register/active-email",changeTag:"/changeTag",getIntelligentTags:"/intelligentTags",getIntelligentNumInfo:"/intelligentNumInfo",beginSeries:"/question/series/begin",saveNotiSetting:"/profile/saveNotiSetting",saveResume:"/profile/add-attachment",getMyTests:"/profile/get-my-tests",searchSchool:"/school/query",getBriefSchool:"/school/brief",getAllSchool:"//static.nowcoder.com/nc/school.jsonp",saveHomeSetting:"/home/setting/save",updateHomeTag:"/home/tag/update",updateHomeModuleOrder:"/home/module/order",hiddenHomeBoard:"/home/board/hidden",searchSuggest:"/suggest",unBindToken:"/oauth2/unbind",saveReumeSetting:"/profile/save/resumesetting",getReumeList:"/resume/list",getCodingTags:"/activity/list/ojtag",getUserNameCard:"/profile/#{uid}/card",getUserCourses:"/profile/#{uid}/courses/info",getUserContact:"/profile/user/contact",getUserBadge:"/badge/detail",getUserBadgeImg:"/badge/img",getUserHonorHistory:"/profile/#{uid}/honorhistory",getSchoolCalendar:"/school/calendar/list",addSchoolCalendar:"/school/calendar/new",delSchoolCalendar:"/school/calendar/del",editSchoolCalendar:"/school/calendar/edit",attendSchoolCalendar:"/school/calendar/attend",mockexamSign:"/profile/mockexam/sign",walletWithdraw:"/profile/wallet/withdraw",getCommonSettingOnce:"/profile/common-settings-once",updateCommonSettingOnce:"/profile/common-settings-once"}},a.add(t.exports,t.exports.url)});
define("nowcoder/1.2.1280/javascripts/action/project",["ncpc"],function(e,c,r){var o=e("ncpc").Ajax;r.exports={url:{userShuffle:"/project/classmate/shuffle"}},o.add(r.exports,r.exports.url)});
define("nowcoder/1.2.1280/javascripts/action/purchase",["ncpc"],function(o,e,n){var p=o("ncpc").Ajax;n.exports={url:{getCoupon:"/order/coupon/#{couponId}",getGenerateCoupon:"/payment/coupon",queryWxPay:"/payment/wxpay/query"}},p.add(n.exports,n.exports.url)});
define("nowcoder/1.2.1280/javascripts/action/question",["ncpc"],function(t,s,e){var i=t("ncpc").Ajax;e.exports={url:{getRightOptions:"/questions/right_option",getTaQuestionList:"/practice/question/list",suggestKaoyanQuestion:"/kaoyan/suggest",suggestFinalExamQuestion:"/finalexam/suggest",suggestSchoolBookQuestion:"/schoolbooks/suggest",adminDelQuestion:"/admin/edit/question/del",getSimCompanyList:"/practice/sim-company-question/list",begin:"/test/#{testId}/begin"}},i.add(e.exports,e.exports.url)});
define("nowcoder/1.2.1280/javascripts/action/quickFill",["ncpc"],function(i,l,a){var c=i("ncpc").Ajax;a.exports={url:{updateExt:"/quick-fill/ext/update",updateBase:"/quick-fill/basic/update",download:"/quick-fill/download",all:"/quick-fill/show-edit/info"}},c.add(a.exports,a.exports.url)});
define("nowcoder/1.2.1280/javascripts/action/recommend",["ncpc"],function(e,c,n){var r=e("ncpc").Ajax;n.exports={url:{recommendTag:"/recommendation/tags",recommendUser:"/recommendation/user",recommendCircle:"/recommendation/circle"}},r.add(n.exports)});
define("nowcoder/1.2.1280/javascripts/action/report",["ncpc"],function(r,o,t){var c=r("ncpc").Ajax;t.exports={url:{submit:"/report/add"}},c.add(t.exports,t.exports.url)});
define("nowcoder/1.2.1280/javascripts/action/resume",["ncpc"],function(e,u,a){var m=e("ncpc").Ajax;a.exports={url:{updateResumeBasic:"/resume/basic/update",updateResumeExt:"/resume/ext/update",updateResumeHead:"/resume/head/update",updateResumeTemplate:"/resume/template/update",updateResumeName:"/resume/name/update",delResume:"/resume/del",newResume:"/resume/new",updateResumeDone:"/resume/done/update",authorizeDoExclusicePaper:"/resume/authorize",openRecommand:"/recommand/open",closeRecommand:"/recommand/cancel",defaultDeliver:"/recommand/default/deliver",getResumeJson:"/resume/json/#{resumeUuid}",checkIdCard:"/resume/check-id-card",parseResumeUrl:"/resume/parse-resume"}},m.add(a.exports,a.exports.url)});
define("nowcoder/1.2.1280/javascripts/action/scan",["ncpc"],function(n,c,a){var p=n("ncpc").Ajax;a.exports={url:{pingAppScanned:"/scan/updateInfo"}},p.add(a.exports,a.exports.url)});
define("nowcoder/1.2.1280/javascripts/action/sendmail",["ncpc"],function(n,t,a){var e=n("ncpc").Ajax;a.exports={url:{unsubscribeNotiEmail:"/settings/notiEmailSettingV2",exchangePdf:"/data/pdf"}},e.add(a.exports,a.exports.url)});
define("nowcoder/1.2.1280/javascripts/action/share",["ncpc"],function(e,r,c){var a=e("ncpc").Ajax;c.exports={url:{createImg:"/helper/share/pic"}},a.add(c.exports,c.exports.url)});
define("nowcoder/1.2.1280/javascripts/action/stack",["ncpc"],function(a,t,s){var c=a("ncpc").Ajax;s.exports={url:{getSecondList:"/stack/second",markUsed:"/stack/#{id}/mark-used",markUnused:"/stack/#{id}/mark-unused",listCompany:"/stack/#{id}/list-company",listMaterial:"/stack/#{id}/list-material",listFellow:"/stack/#{id}/list-fellow",uploadMaterial:"/stack/#{id}/upload",deleteSelfMaterial:"/stack/#{id}/delete",addFixInfo:"/stack/#{id}/fix",companyValidationInfo:"/stack/#{id}/validate-company",validateCompany:"/stack/#{id}/validate-company",importStack:"/stack/import",addCompany:"/stack/#{id}/add-company",getCompanies:"/stack/get-companies",listStackCompany:"/stack-company",listStacks:"/list-stacks",addCompanyStacks:"/stack/company/#{companyId}/add-stack",getSecondDir:"/stack/second"}},c.add(s.exports,s.exports.url)});
define("nowcoder/1.2.1280/javascripts/action/studypath",["ncpc"],function(t,o,e){var r=t("ncpc").Ajax;e.exports={url:{showMore:"/studypath/#{id}/show-more",doneProject:"/studypath/#{id}/done-proj",obtainCertificate:"/studypath/#{id}/obtain-cert",h5Cert:"/studypath/h5-cert"}},r.add(e.exports,e.exports.url)});
define("nowcoder/1.2.1280/javascripts/component/page",["nc","ncpc"],function(n,e,i){var t=n("nc"),r=n("ncpc"),o=t.$,c=t.Component,s=t.Clazz,u=t.Base,f=t.Time,a=r.Env,d=i.exports=s.create();s.mix(d,c,{_template:""},{initialize:function p(n){var e=this;if(e.user=u.clone(window.globalInfo),!e.isSupport())return e.renderUpdateBrowser(),void(n.noRender=!0)},initWinResize:function m(){var e=this;if(!e.__initResize){e.__initResize=!0;var i=o(window),n=f.frequency(50);i.on("resize",function(){n(function(){try{e.fire("winResize",i,i.width(),i.height())}catch(n){}})})}},getUser:function w(){return this.user||{}},isLogin:function l(){return a.isLogin()},isAdmin:function h(){return a.isAdmin()},isInfoComplete:function z(){return a.isCompleteInfo()},renderUpdateBrowser:function v(){n.async("../component/browserUpdate",function(n){new n({renderTo:o(document.body),renderBy:"html"})})},isSupport:function g(){return!0}})});
define("nowcoder/1.2.1280/javascripts/component/popupSub/popupCommon",["nc","cpn"],function(o,n,p){var t=o("nc"),e=o("cpn"),u=t.$;t.Base,e.Popup;p.exports={tagTest:function c(p){p=p||{},o.async("./popupStar",function(n){o.async("./popupTagFree",function(o){o.show({type:p.type,call:function(o){var c=o.ids,a=(o.leftCount,o.paperType);n.show({tagIds:c,call:function(o,n,p){var t=window.encodeURIComponent(c.join(",")),e=u('<form method="post" action="/makePaper?paperType='+a+"&source="+p+"&tagIds="+t+"&difficulty="+o+(n?"&questionCount="+n:"")+'"></form>');u(document.body).append(e),e.submit()}})}})})})}}});
define("nowcoder/1.2.1280/javascripts/component/subComment",["nc","cpn","../util/util","ncpc","../core/siteConfig","../action/contest"],function(t,e,a){var i=t("nc"),r=t("cpn"),s=i.$,n=i.Clazz,l=i.Component,o=i.Str,c=i.Base,d=i.Time,m=i.Num,p=i.Dom,u=r.Popup,g=r.Pager,f=i.Limit,h=t("../util/util"),y=t("../core/siteConfig"),v=t("../action/contest"),C=a.exports=n.create(),I=y.type.comment;n.mix(C,l,{_template:['<div class="reply-box">','<div class="reply-loading-tips js-loading" style="text-align:center;">评论加载中...</div>','<div class="reply-container js-container" style="display:none;">','<ul class="reply-list js-list" style="display:none;"></ul>','<div class="js-pager"></div>','<div class="reply-editbox clearfix cmt-reply-to-main" style="margin-top:10px;">','<div class="reply-write">','<textarea placeholder="请输入你的观点" class="reply-input reply-input-textarea nc-req-auth js-main-ipt"></textarea>',"</div>",'<a class="btn btn-primary reply-btn js-main-reply" href="javascript:void(0);">回复</a>',"</div>","</div>","</div>"].join(""),listeners:[{name:"render",type:"custom",handler:function(){var t=this,e=t.rawConfig,a=t.getEl();t.loadEl=a.find("div.js-loading"),t.containerEl=a.find("div.js-container"),t.listEl=a.find("ul.js-list"),t.mainIpt=a.find("textarea.js-main-ipt"),t.pagerEl=a.find("div.js-pager"),t.lastCommentId=null,e.inputWidth&&t.mainIpt.width(e.inputWidth),p.txtAutoHeight({el:t.mainIpt}),t.mainIpt.focus(function(){t.mainIpt.parent().addClass("reply-focus")}).blur(function(){t.mainIpt.parent().removeClass("reply-focus")}),t.renderPageCmt(0)}},{name:"click a.js-main-reply",type:"bind",handler:function(t){var e=this,a=e.rawConfig,i=s.trim(e.mainIpt.val());i?e.createCmt({ipt:e.mainIpt,entityId:a.comment.id,content:i,toUserId:a.comment.authorId,toUserName:a.comment.authorName,toCommentId:a.comment.id}):e.mainIpt.focus()}},{name:"click .js-reply-answer",handler:function(t){var e=this.rawConfig,a=s(t.currentTarget),i=a.closest("li.ui-subcmt-item"),r=i.attr("data-id"),n=this.cmtMap[r];if(i.get(0)&&r&&!a.attr("data-animate")){a.attr("data-animate",1);var l=i.find("div.reply-editbox");if(!l.get(0)){l=s(['<div class="reply-editbox clearfix" style="display:none;">','<div class="toparrow"></div>','<div class="reply-write"><textarea placeholder="',n?"回复"+n.authorName:"请输入你的观点",'" class="reply-input reply-input-textarea js-item-ipt nc-req-auth"></textarea></div>','<a class="btn btn-primary reply-btn js-item-reply" href="javascript:void(0);">回复</a>',"</div>"].join("")),i.append(l);var o=l.find("textarea.js-item-ipt");e.inputWidth&&o.width(e.inputWidth),o.focus(c.bind(l.addClass,l,"reply-focus")).blur(c.bind(l.removeClass,l,"reply-focus")),p.txtAutoHeight({el:o})}"1"===i.attr("data-show")?l.slideUp(200,function(){i.removeAttr("data-show"),a.removeAttr("data-animate")}):l.slideDown(200,function(){i.attr("data-show","1"),a.removeAttr("data-animate")})}}},{name:"click a.js-item-reply",handler:function(t){var e=this,a=e.rawConfig,i=s(t.currentTarget).closest("li.ui-subcmt-item"),r=i.attr("data-id"),n=e.cmtMap[r];if(i.get(0)&&r&&n){var l=i.find("textarea.js-item-ipt"),o=s.trim(l.val());o?e.createCmt({ipt:l,entityId:a.comment.id,content:o,toUserId:n.authorId,toUserName:n.authorName,toCommentId:n.id,call:function(){i.find("div.reply-editbox").slideUp(),i.removeAttr("data-show")}}):l.focus()}}},{name:"click ul.reply-list a.reply-like",handler:function(t){this.rawConfig;var e=s(t.currentTarget),a=e.closest("li.ui-subcmt-item"),i=a.attr("data-id"),r=this.cmtMap[i];if(a.get(0)&&i&&r&&!f.mark(e)){var n=r.isLiked;v[n?"unlike":"like"]({body:{id:i,type:I},call:function(t){r.isLiked=!n,r.likes=t.count,e.html((n?"赞":"已赞")+"("+r.likes+")")},error:function(t){u.alert(t.msg)},always:function(){f.pause(e)}})}}},{name:"click ul.reply-list a.reply-del",handler:function(t){var i=this,e=(i.rawConfig,s(t.currentTarget)),r=e.closest("li.ui-subcmt-item"),a=r.attr("data-id"),n=i.cmtMap[a];r.get(0)&&a&&n&&!f.mark(e)&&u.confirm("确定删除评论？",function(){v.delComment({body:{id:a},call:function(t){u.tips("操作成功"),r.remove(),i.totalCnt--;var e=i.currentPage,a=m.page(i.totalCnt,i.pageSize);e=a<e?Math.max(a,1):e,i.renderPageCmt(e,e!==i.currentPage),i.fire("delCmt",i.totalCnt)},error:function(t){u.alert(t.msg)},always:function(){f.clear(e)}})},function(){f.clear(e)})}}]},{initialize:function w(t){this.currentUser=c.clone(window.globalInfo),this.pageSize=10,this.cmtMap={},this.submitTmpCache={}},renderPageCmt:function b(i,r){var n=this,l=n.rawConfig;n.currentPage=i,n.getPageCmt({page:i,call:function(t){var e=t.comments;n.totalPage=t.totalPage,n.totalCnt=t.totalCnt;var a="";c.forEach(e,function(t){a+=n.getCmtStr(t)}),n.listEl.html(a)[a?"show":"hide"](),n.pagerEl[1<n.totalPage?"show":"hide"](),new g({renderTo:n.pagerEl,renderBy:"html",current:i,total:n.totalPage,pageChange:function(t){n.renderPageCmt(t,!0)}}),r&&p.scrollToEl({el:n.getEl(),ext:-1*(h.getNavHeight()+10)}),n._inited||(n._inited=!0,n.loadEl.hide(),l.animation&&n.containerEl.slideDown(200),!l.animation&&n.containerEl.show())}})},createCmt:function j(e){var a=this,t=a.rawConfig,i=["submit",t.entityType||I||"",e.entityId||"",e.toUserId||"",e.toCommentId||""].join("_");if(a.submitTmpCache[i])return;a.submitTmpCache[i]=!0,v.comment({body:{entityType:t.entityType||I,entityId:e.entityId,commentContent:e.content,toUserId:e.toUserId,toCommentId:e.toCommentId},call:function(t){e.ipt.val("").focus(),a.totalCnt++,a.totalPage=m.page(a.totalCnt,a.pageSize),a.renderPageCmt(a.totalPage,a.totalPage!==a.currentPage),a.fire("addCmt",a.totalCnt),e.call&&e.call()},error:function(t){u.alert(t.msg)},always:function(){delete a.submitTmpCache[i]}})},getCmtStr:function x(t){var e=this.rawConfig;this.cmtMap[t.id]=t;var a=['<li class="ui-subcmt-item" data-id="#{id}">','<div class="reply-main clearfix">','<div class="reply-person" style="margin-right:5px;"><a href="/profile/#{authorId}" data-card-uid="#{authorId}" class="js-nc-card level-color-#{honorLevel}">#{authorName}</a>#{authorExt}</div>','<div class="reply-content">#{content}</div>',"</div>",'<div class="answer-legend reply-info">','<span class="reply-time">#{createTime}</span>','<a href="javascript:void(0);" class="reply-answer js-reply-answer">回复</a>','<a href="javascript:void(0);" class="reply-like">#{likeName}(#{likes})</a>',e.comment.authorId==this.currentUser.ownerId||t.authorId==this.currentUser.ownerId||e.isAdmin?'<a href="javascript:void(0);" class="reply-del">删除</a>':"","</div>","</li>"].join(""),i=t.toUserId&&t.toCommentId!==e.comment.id?o.execTpl('回复 <a href="/profile/#{uid}" data-card-uid="#{uid}" class="js-nc-card #{cls}">#{userName}</a>：',{uid:t.toUserId,userName:t.toUserName,cls:"toUserHonorLevel"in t?"level-color-"+t.toUserHonorLevel:""}):"",r=new Date(t.createTime),n=new Date,l=r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()&&r.getDate()===n.getDate();return o.execTpl(a,{id:t.id,avatar:t.headImg||y.avatar.small,authorName:t.authorName,authorExt:i?"":"：",authorId:t.authorId,honorLevel:t.honorLevel,content:i+(t.content||"").replace(/\r?\n+$/,"").replace(/\r?\n+/g,"<br />"),createTime:l?"今天 "+d.form(r,"HH:mm:ss"):d.form(r,"yyyy-MM-dd HH:mm:ss"),likeName:t.isLiked?"已赞":"赞",likes:t.likes||0})},getPageCmt:function k(e){var t=this.rawConfig;v.getCommentByPageV2({query:{pageSize:this.pageSize,page:+e.page||1,order:1,entityId:t.comment.id,entityType:t.entityType||I},call:function(t){e.call&&e.call(t.data||{})},error:function(t){u.alert(t.msg),e.error&&e.error()}})}})});
define("nowcoder/1.2.1280/javascripts/component/browserUpdate",["nc"],function(e,r,t){var s=e("nc"),i=s.$,o=s.Component,n=s.Browser,l=s.Clazz,a=s.Str,c=s.Base,p=t.exports=l.create();l.mix(p,o,{_template:['<div class="#{boxCls}" style="padding:85px 0 85px 0;text-align:center">','<h2 class="js-title"></h2>','<p style="margin:30px 0;color:#747474;font-size:14px;" class="js-desc"></p>','<ul class="js-browser">','<li style="display:inline-block;">','<img style="width:64px;height:64px;" src="//uploadfiles.nowcoder.com/images/20160303/56_1456989507104_CD25B09FE067A549953AA39965170C89">','<p style="color: #888;margin:10px 0 20px;font-size:14px;">chrome浏览器</p>','<a href="https://www.nowcoder.com/discuss/3793" target="_blank" class="btn btn-primary">下载</a>',"</li>",'<li style="display:inline-block;margin-left:60px;">','<img style="width:64px;height:64px;" src="//uploadfiles.nowcoder.com/images/20160303/56_1456989516332_5882D3A23B5C8B55A0041088E05288D4">','<p style="color: #888;margin:10px 0 20px;font-size:14px;">firefox浏览器</p>','<a href="https://www.nowcoder.com/discuss/3793" target="_blank" class="btn btn-primary">下载</a>',"</li>","</ul>","</div>"].join(""),listeners:[{name:"render",type:"custom",handler:function(){var e=this;e.initDefault();var r=e.rawConfig;e.val(r)}}]},{initDefault:function d(){var e=this.rawConfig,r=this.getBrowserInfo();e.title=(i.trim(e.title)||"非常抱歉，你正在使用的浏览器版本暂不支持本页面")+(r?'<br /><span style="color:#ff5400;">当前浏览器内核: '+r+"</span>":""),e.desc=i.trim(e.desc)||'建议你使用以下浏览器的最新版本打开本页面，或者返回<a href="/" class="link-green">牛客网</a>',e.browsers&&0!==e.browsers.length||(e.browsers=[{logo:"//uploadfiles.nowcoder.com/images/20160303/56_1456989507104_CD25B09FE067A549953AA39965170C89",name:"Chrome浏览器",url:"http://www.nowcoder.com/discuss/3793"},{logo:"//uploadfiles.nowcoder.com/images/20160303/56_1456989516332_5882D3A23B5C8B55A0041088E05288D4",name:"firefox浏览器",url:"http://www.nowcoder.com/discuss/3793"}])},val:function m(e){var r=this;r.renderTitle(e.title),r.renderDesc(e.desc),r.renderBrowser(e.browsers)},renderTitle:function f(e){this.getEl().find("h2.js-title").html(i.trim(e))},renderDesc:function w(e){this.getEl().find("p.js-desc").html(i.trim(e))},renderBrowser:function g(e){var r=this.getEl(),t="";c.forEach(e,function(e,r){t+=a.execTpl(['<li style="display:inline-block;margin-left:',0<r?60:0,'px;">','<img style="width:64px;height:64px;" src="#{logo}">','<p style="color: #888;margin:10px 0 20px;font-size:14px;">#{name}</p>','<a href="#{url}" target="_blank" class="btn btn-primary">下载</a>',"</li>"].join(""),e)}),r.find("ul.js-browser").html(t)},getBrowserInfo:function h(){var e=n.getBrowser(),r=(e.appName||"")+" "+(e.version||"");return i.trim(r)},_getData:function x(e){return{boxCls:e.needBoxCls?"module-box":""}}})});
define("nowcoder/1.2.1280/javascripts/component/feed/list/feed",["nc","../../../component/feed/list/feed1","./cpn/main","cpn","ncpc","./cpn/menu","./cpn/reply","../../cmt/list/list","../../cmt/item/item","../../cmt/cpn/action","../../cmt/cpn/reply","../../cmt/cpn/lord","../../../core/siteConfig","../../../action/contest","../../cmt/util/action","../../cmt/item/sub","../../../action/feed","../../../action/discuss","./cpn/content","../../../component/feed/list/feed2","../../../component/feed/list/feed3","./feed1","../../../component/feed/list/feed4","./feed3","./feed5","./feed6","./feed7","./cpn/picture","./feed8","../../../component/feed/list/feed5","../../../component/feed/list/feed6","../../../component/feed/list/feed7","../../../component/feed/list/feed8","./util/action","../popup/popupForward"],function(e,t,n){var o=e("nc").Base,c=e("../../../component/feed/list/feed1"),d=e("../../../component/feed/list/feed2"),i=e("../../../component/feed/list/feed3"),f=e("../../../component/feed/list/feed4"),p=e("../../../component/feed/list/feed5"),s=e("../../../component/feed/list/feed6"),m=e("../../../component/feed/list/feed7"),l=e("../../../component/feed/list/feed8"),a=e("./util/action");n.exports=Vue.extend({template:'<component v-if="data && feedType" :is="feedType" :item="data" v-on="$listeners"></component>',props:["data","config"],provide:function(){return{config:this.config||{},action:new a({context:this})}},computed:{feedType:function r(){var e=o.id((this.data||{}).type);return{1:c,2:d,3:i,4:f,5:p,6:s,7:m,8:l,9:c}[e]||p}}})});
define("nowcoder/1.2.1280/javascripts/component/feed/list/feed1",["nc","./cpn/main","cpn","ncpc","./cpn/menu","./cpn/reply","../../cmt/list/list","../../cmt/item/item","../../cmt/cpn/action","../../cmt/cpn/reply","../../cmt/cpn/lord","../../../core/siteConfig","../../../action/contest","../../cmt/util/action","../../cmt/item/sub","../../../action/feed","../../../action/discuss","./cpn/content"],function(t,e,n){var s=t("nc").Base,c=t("./cpn/main"),i=t("./cpn/content");n.exports=Vue.extend({template:['<feed-wrapper :data="item" :showType="showType" v-on="$listeners">',"<template v-slot:content>",'<a :href="url" :target="target">','<template v-if="ext.title">','<div class="feed-title">','<span v-html="ext.title"></span>','<span v-if="ext.isTop" class="disTop">置顶</span>','<span v-if="ext.isGilded" class="plusFine">精</span>','<span v-if="ext.certify === 1" class="tag-certify"><img src="//static.nowcoder.com/fe/style/images/common/img/icons/ico-v.png" alt="已认证"><span>已认证</span></span>','<span v-if="ext.certify === 2 || ext.certify === 3" class="tag-uncertify"><img src="//static.nowcoder.com/fe/style/images/common/img/icons/ico-v.png" alt="未认证"><span>未认证</span></span>','<span v-if="ext.isHot" class="tag-hot"><img src="//static.nowcoder.com/fe/style/images/common/img/icons/ico-hot.png" alt="烫"><span>烫</span></span>','<a v-if="ext.isReward" class="nk-reward-tag" href="javascript:void(0)"><i class="icon-nc-coin"></i>悬赏 {{ext.reward || 0}}</a>','<a v-if="ext.isAccept" href="javascript:void(0)"><span class="plusFine accept-mini-tag">已采纳</span></a>','<span v-if="ext.isVote" class="tag-vote"><img src="//static.nowcoder.com/fe/style/images/common/img/icons/ico-vote.png" alt=""><span>投票</span></span>',"</div>","</template>",'<Content :content="content" :type="1"></Content>',"</a>","</template>","</feed-wrapper>"].join(""),props:["item","showType"],components:{FeedWrapper:c,Content:i},data:function(){var t=this.item;return{ext:s.json(t.ext)||{}}},computed:{url:function a(){var t=this.ext.postId;return t?"/discuss/"+t:"javascript:void(0);"},target:function o(){return this.ext.postId?"_blank":"_self"},content:function p(){return(this.ext.content||"").replace(/<[^>].*?>/gi,function(t){return/<\s*\/?\s*a[\s|>]/gi.test(t)?"":t})}}})});
define("nowcoder/1.2.1280/javascripts/component/feed/list/feed2",["nc","cpn","ncpc","./cpn/main","./cpn/menu","./cpn/reply","../../cmt/list/list","../../cmt/item/item","../../cmt/cpn/action","../../cmt/cpn/reply","../../cmt/cpn/lord","../../../core/siteConfig","../../../action/contest","../../cmt/util/action","../../cmt/item/sub","../../../action/feed","../../../action/discuss"],function(e,t,n){var s=e("nc"),a=e("cpn"),i=e("ncpc"),o=s.Base,c=s.Event,l=a.Popup,p=i.Config,r=e("./cpn/main"),d=e("../../../action/contest");n.exports=Vue.extend({template:['<feed-wrapper :data="item">',"<template v-slot:content>",'<div class="feed-cont-quote feed-follow">','<template v-if="isUser">','<div class="feed-follow-pic">','<a :href="url" target="_blank" class="js-nc-card head-pic" :data-card-uid="ext.id"><img :src="ext.largeHeaderUrl + \'?x-oss-process=image/resize,m_mfit,w_100,h_100\'"></a>',"</div>",'<div class="cont">','<p><a :href="url" target="_blank" class="name js-nc-card" :data-card-uid="ext.id" v-html="ext.nickname"></a></p>','<section class="item-box">','<span><i class="icon-globe"></i><span v-html="ext.livePlace"></span></span>','<span><i class="icon-briefcase"></i><span v-html="ext.workInfo"></span></span>','<span><i class="icon-nc-hat"></i><span v-html="ext.educationInfo"></span></span>',"</section>","</div>","</template>","<template v-else>",'<div class="feed-follow-pic">','<a :href="\'/discuss/tag/\' + ext.id" target="_blank" class="other-pic" style="display:block;overflow:hidden"><img :src="ext.logo + \'?x-oss-process=image/resize,m_mfit,w_100,h_100\'" :alt="ext.name"></a>',"</div>",'<div class="cont">','<p><a :href="\'/discuss/tag/\' + ext.id" target="_blank" v-html="ext.name"></a></p>','<section class="item-box">','<span><span class="font-green" v-html="ext.followCount"></span> 人关注</span>','<span><span class="font-green" v-html="ext.postCount"></span> 篇帖子</span>',"</section>","</div>","</template>","<a @click=\"actionFollow\" href=\"javascript:void(0);\" class=\"btn btn-sm\" :class=\"item.follow ? 'btn-default' : 'btn-primary'\">{{item.follow ? '已关注' : '+ 关注'}}</a>","</div>","</template>","</feed-wrapper>"].join(""),props:["item"],inject:["action"],components:{FeedWrapper:r},data:function(){var e=this.item;return{ext:o.json(e.ext)||{}}},mounted:function m(){var t=this;t.isUser&&c.listen(i.Enum.EVENT_USER_DATA_CHANGE,function(e){e===t.item.sourceId&&t.action.checkFollow({entityId:e,entityType:p.type.user},function(e){t.item.follow=e.data["is-follow"]})})},methods:{actionFollow:function f(){var t=this,n=t.item,s=!n.follow;d[s?"follow":"unfollow"]({body:{id:n.sourceId,type:t.ext.followType},call:function(e){n.follow=s,t.isUser&&c.fire(i.Enum.EVENT_USER_DATA_CHANGE,n.sourceId)},error:function(e){l.alert(e.msg)}})}},computed:{isUser:function u(){return this.ext.followType===p.type.user},url:function v(){return this.isUser?"/profile/"+this.ext.id:"javascript:void(0);"}}})});
define("nowcoder/1.2.1280/javascripts/component/feed/list/feed3",["nc","./cpn/main","cpn","ncpc","./cpn/menu","./cpn/reply","../../cmt/list/list","../../cmt/item/item","../../cmt/cpn/action","../../cmt/cpn/reply","../../cmt/cpn/lord","../../../core/siteConfig","../../../action/contest","../../cmt/util/action","../../cmt/item/sub","../../../action/feed","../../../action/discuss","./cpn/content","./feed1"],function(e,t,n){var c=e("nc").Base,o=e("./cpn/main"),i=e("./cpn/content"),p=e("./feed1");n.exports=Vue.extend({template:['<feed-wrapper :showType="showType" :data="item" v-on="$listeners">',"<template v-slot:content>",'<div class="feed-transmit">','<Content :content="ext.commentContent" :type="3"></Content>',"</div>",'<div class="feed-cont-quote">','<feed1 :item="item" showType="forward"></feed1>',"</div>","</template>","</feed-wrapper>"].join(""),props:["item","showType"],components:{FeedWrapper:o,Content:i,Feed1:p},data:function(){var e=this.item;return{ext:c.json(e.ext)||{}}}})});
define("nowcoder/1.2.1280/javascripts/component/feed/list/feed4",["nc","cpn","ncpc","./cpn/main","./cpn/menu","./cpn/reply","../../cmt/list/list","../../cmt/item/item","../../cmt/cpn/action","../../cmt/cpn/reply","../../cmt/cpn/lord","../../../core/siteConfig","../../../action/contest","../../cmt/util/action","../../cmt/item/sub","../../../action/feed","../../../action/discuss","./cpn/content","./feed1","./feed3","./feed5","./feed6","./feed7","./cpn/picture","./feed8"],function(e,t,o){var n=e("nc"),i=e("cpn"),r=e("ncpc"),a=n.Base,c=r.Env,s=r.Config,d=e("./cpn/main"),l=e("./cpn/content"),p=e("./feed1"),m=e("./feed3"),f=e("./feed5"),u=e("./feed6"),v=e("./feed7"),h=e("./feed8"),y=i.VueIdentity;o.exports=Vue.extend({template:['<feed-wrapper :data="item" v-on="$listeners">',"<template v-slot:content>",'<div class="feed-transmit">','<Content v-if="item.content" :content="item.content" class="mtb1"></Content>','<div v-if="item.pre" class="mtb1">','<i class="icon-nc-share2 mr1"></i>','<span class="mr1">','<a :href="\'/profile/\' + item.pre.user.userId" target="_blank" class="mr1 name js-nc-card" :data-card-uid="item.pre.user.userId" :class="\'level-color-\'+item.pre.user.honorLevel" v-html="item.pre.user.nickname"></a>','<Identity v-for="iden in item.pre.user.identity" :key="iden.level" :level="iden.level" :name="iden.name" :iconCls="iden.idenClass"></Identity>',"</span>",'<span class="font-gray" v-html="item.pre.content.slice(0, 200)"></span>','<span class="font-gray" v-if="item.pre.content.length > 200">...</span>',"</div>",'<template v-if="!item.content && !item.pre">&nbsp;</template>',"</div>",'<div class="feed-transmit-cont">','<p v-if="rootType !== 1" class="quote-from">','<template v-if="root.ownerView.ownerType === 0">','<a :href="userHref" target="_blank" class="mr1 name js-nc-card" :data-card-uid="root.ownerView.user.userId" :class="\'level-color-\'+root.ownerView.user.honorLevel" v-html="root.ownerView.user.nickname"></a>','<Identity v-for="item in root.ownerView.user.identity" :key="item.level" :level="item.level" :name="item.name" :iconCls="item.idenClass"></Identity>',"</template>",'<a v-else :href="userHref" target="_blank" class="name" v-html="root.ownerView.topic.name"></a>','<span class="feed-action">{{ actionName }}</span>',"</p>",'<component :is="rootComponent" :item="rootWithPadding" showType="forward"></component>','<div class="quote-tool-oprt">',"<a href=\"javascript:void(0);\" @click=\"actionLike\">{{root.likeCount}} {{root.like ? '已赞' : '赞'}}</a>",'<a :href="commentUrl" target="_blank">{{root.commentCount}} 回复</a>','<a v-if="!isSelf && rootType < 4" href="javascript:void(0);" @click="actionFavorite">{{root.followCount}} {{root.follow ? \'已收藏\' : \'收藏\'}}</a>','<a href="javascript:void(0);" @click="actionForward">{{root.shareCount}} 转发</a>',"</div>","</div>","</template>","</feed-wrapper>"].join(""),inject:["action"],props:["item"],components:{FeedWrapper:d,Identity:y,Content:l},data:function(){return{root:this.item.root||{}}},computed:{isSelf:function w(){return a.id(this.root.ownerId)===c.getUid()},rootType:function k(){var e=this.item.root||{},t=e.sourceType;return 8===t?1:2===t?3:e.momentType+5},rootComponent:function C(){return{1:p,3:m,5:f,6:u,7:v,8:h}[this.rootType]||f},userHref:function g(){var e=this;return 0===e.root.ownerView.ownerType?"/profile/"+e.root.ownerView.user.userId:"/discuss/tag/"+e.root.topic.id},commentUrl:function I(){var e=this;return e.rootType<4?"/discuss/"+a.json(e.root.ext).postId+"?toCommentIpt=1":e.root.uuid?"/feed/main/detail/"+e.root.uuid:"javascript:void(0)"},actionName:function T(){var e=this;return{1:"发帖了",2:"关注了",3:"回帖了",4:"转发了",5:"说",6:e.rootWithPadding.content?"说":"打卡",7:e.rootWithPadding.content?"说":"分享图片",8:e.rootWithPadding.content?"说":"分享链接"}[e.rootType]||"说"},rootWithPadding:function j(){var e=this,t=a.extend(e.item.root,{type:e.rootType});if(5<=e.rootType){var o=a.json(e.item.root.ext,{});a.extend(t,{ext:o.ext,content:o.content})}return t}},methods:{actionLike:function b(){var t=this,o=!t.root.like;t.action.like(o,{body:{id:t.root.sourceId,type:t.root.sourceType},call:function(e){t.root.likeCount=e.count,t.root.like=o}})},actionFavorite:function V(){var e=this,t=!e.root.follow;e.action.favorite(t,{body:{id:e.root.sourceId,type:s.type.post},call:function(){(e.root.follow=t)?e.root.followCount++:e.root.followCount--}})},actionForward:function x(){this.action.forward(this.rootWithPadding)}}})});
define("nowcoder/1.2.1280/javascripts/component/feed/list/feed5",["./cpn/main","nc","cpn","ncpc","./cpn/menu","./cpn/reply","../../cmt/list/list","../../cmt/item/item","../../cmt/cpn/action","../../cmt/cpn/reply","../../cmt/cpn/lord","../../../core/siteConfig","../../../action/contest","../../cmt/util/action","../../cmt/item/sub","../../../action/feed","../../../action/discuss","./cpn/content"],function(t,e,n){var c=t("./cpn/main"),o=t("./cpn/content");n.exports=Vue.extend({template:['<feed-wrapper :data="item" :showType="showType" v-on="$listeners">',"<template v-slot:content>",'<Content :content="item.content"></Content>',"</template>","</feed-wrapper>"].join(""),props:["item","showType"],components:{FeedWrapper:c,Content:o}})});
define("nowcoder/1.2.1280/javascripts/component/feed/list/feed6",["nc","./cpn/main","cpn","ncpc","./cpn/menu","./cpn/reply","../../cmt/list/list","../../cmt/item/item","../../cmt/cpn/action","../../cmt/cpn/reply","../../cmt/cpn/lord","../../../core/siteConfig","../../../action/contest","../../cmt/util/action","../../cmt/item/sub","../../../action/feed","../../../action/discuss","./cpn/content"],function(t,e,n){var o=t("nc"),p=o.Base,i=o.Time,d=t("./cpn/main"),s=t("./cpn/content");n.exports=Vue.extend({template:['<feed-wrapper :data="item" :showType="showType" v-on="$listeners">',"<template v-slot:content>",'<Content :content="item.content">','<div class="pop-sign-main clearfix">','<div class="pop-sign-time">','<div class="pop-sign-day">{{month}}</div>','<div class="pop-sign-week">{{day}}</div>',"</div>",'<dl class="pop-sign-info">',"<dt>在牛客学习打卡{{ext.days}}天，今天完成了：</dt>",'<dd><p>刷题</p><p v-if="ext.doneQuestionCount">{{ext.doneQuestionCount}} 道</p><p v-else>--</p></dd>','<dd><p>提交代码</p><p v-if="ext.submitCodeCount">{{ext.submitCodeCount}} 行</p><p v-else>--</p></dd>','<dd><p>学习课程</p><p v-if="ext.learnCourseCount">{{ext.learnCourseCount}} 课</p><p v-else>--</p></dd>',"</dl>","</div>","</Content>","</template>","</feed-wrapper>"].join(""),props:["item","showType"],components:{FeedWrapper:d,Content:s},data:function(){var t=this.item;return{ext:p.json(t.ext)||{}}},computed:{date:function c(){return new Date(this.ext.date)},month:function a(){return i.form(this.date,"yyyy-MM")},day:function m(){return i.form(this.date,"dd")}}})});
define("nowcoder/1.2.1280/javascripts/component/feed/list/feed7",["nc","ncpc","./cpn/main","cpn","./cpn/menu","./cpn/reply","../../cmt/list/list","../../cmt/item/item","../../cmt/cpn/action","../../cmt/cpn/reply","../../cmt/cpn/lord","../../../core/siteConfig","../../../action/contest","../../cmt/util/action","../../cmt/item/sub","../../../action/feed","../../../action/discuss","./cpn/content","./cpn/picture"],function(t,e,n){var c=t("nc"),p=(t("ncpc"),c.Base),i=t("./cpn/main"),o=t("./cpn/content"),s=t("./cpn/picture");n.exports=Vue.extend({template:['<feed-wrapper :data="item" :showType="showType" v-on="$listeners">',"<template v-slot:content>",'<Content :content="item.content">','<Picture :items="ext.imgs"></Picture>',"</Content>","</template>","</feed-wrapper>"].join(""),props:["item","showType"],components:{FeedWrapper:i,Content:o,Picture:s},data:function(){var t=this.item||{};return{ext:p.json(t.ext)||{}}}})});
define("nowcoder/1.2.1280/javascripts/component/feed/list/feed8",["nc","./cpn/main","cpn","ncpc","./cpn/menu","./cpn/reply","../../cmt/list/list","../../cmt/item/item","../../cmt/cpn/action","../../cmt/cpn/reply","../../cmt/cpn/lord","../../../core/siteConfig","../../../action/contest","../../cmt/util/action","../../cmt/item/sub","../../../action/feed","../../../action/discuss","./cpn/content"],function(e,t,n){var o=e("nc").Base,c=e("./cpn/main"),i=e("./cpn/content");n.exports=Vue.extend({template:['<feed-wrapper :data="item" :showType="showType" v-on="$listeners">',"<template v-slot:content>",'<Content :content="item.content">','<a :href="ext.url" class="feed-cont-quote mt2" target="_blank" style="display: block">','<div class="web-link-logo"><img v-if="ext.icon" :src="ext.icon" @error="actionLoadError"></div>','<div class="web-link-info">','<div class="web-name" v-html="ext.title || \'没有标题\'"></div>','<p style="overflow: hidden;text-overflow:ellipsis;white-space: nowrap;" v-html="ext.url"></p>',"</div>","</a>","</Content>","</template>","</feed-wrapper>"].join(""),props:["item","showType"],components:{FeedWrapper:c,Content:i},data:function(){var e=this.item;return{ext:o.json(e.ext)||{}||{}}},methods:{actionLoadError:function s(e){e.target.src=window.ncDeployImageRoot+"images-nk/res/empty/9.png"}}})});
define("nowcoder/1.2.1280/javascripts/component/feed/list/list",["nc","cpn","../../../action/feed","ncpc","./feed","./feed1","./cpn/main","./cpn/menu","./cpn/reply","../../cmt/list/list","../../cmt/item/item","../../cmt/cpn/action","../../cmt/cpn/reply","../../cmt/cpn/lord","../../../core/siteConfig","../../../action/contest","../../cmt/util/action","../../cmt/item/sub","../../../action/discuss","./cpn/content","./feed2","./feed3","./feed4","./feed5","./feed6","./feed7","./cpn/picture","./feed8","./util/action","../popup/popupForward"],function(e,i,t){var n=e("nc"),o=(e("cpn"),n.Base),c=(e("../../../action/feed"),e("./feed"));t.exports=Vue.extend({template:["<div>","<transition-group :name=\"isAnimate ? 'zoom' : ''\" tag=\"div\">",'<template v-for="(item, index) in items" tag="div">','<div :key="-1" v-if="index === last" class="no-more-feed"><a href="javascript:void(0)" @click="$emit(\'refresh\')">你上次看到这，点击刷新 <i class="icon-refresh"></i></a></div>','<feed :key="item.timestamp" @block-user="actionBlockUser" @block="actionDelete" @delete="actionDelete" :data="item" :config="config" v-on="$listeners"></feed>',"</template>","</transition-group>","</div>"].join(""),props:["items","isNeedAnimate","config"],components:{Feed:c},data:function s(){return{isAnimate:this.isNeedAnimate}},computed:{last:function a(){var t=this,n=-1;return t.config&&t.config.lastTimeRead&&o.forEach(t.items,function(e,i){if(9!==e.type&&e.timestamp<=t.config.lastTimeRead)return n=i,o.BREAK}),0<n?n:-1}},methods:{actionDelete:function r(e){var i=this,t=e.uuid,n=o.filter(i.items,function(e){return e.uuid!==t});i.isAnimate=!0,i.$emit("update:items",n)},actionBlockUser:function d(i){var t=i.ownerView.ownerType,e=o.filter(this.items,function(e){return!(t===e.ownerView.ownerType&&(1===t?e.ownerView.topic.id===i.ownerView.topic.id:e.ownerView.user.userId===i.ownerView.user.userId))});this.$emit("update:items",e)}},watch:{isNeedAnimate:function m(e){this.isAnimate=e}}})});
define("nowcoder/1.2.1280/javascripts/component/feed/popup/popupForward",["nc","cpn","ncpc","../../../action/feed"],function(t,e,n){var o=t("nc"),i=t("cpn"),a=t("ncpc"),c=t("../../../action/feed"),r=o.$,s=(o.Db,o.Base),l=i.Popup,p=a.Action,d=a.Config,u=a.AttachEmoji,m=n.exports=Vue.extend({template:['<div class="pop-content clearfix">','<a href="javascript:void(0)" class="pop-close js-popup-close" style="position:relative;z-index:99;"></a>','<div class="pop-feed-cont">','<div class="clearfix">','<textarea ref="input" v-model="comment" placeholder="此刻你的想法和感受"></textarea>','<div v-if="commentLength > commentWarnLength" class="textarea-txt-tip">','<div v-if="commentLength <= commentMaxLength" class="textarea-txt-tip">还剩<span class="font-green">{{commentMaxLength - commentLength}}</span>字</div>','<div v-else class="textarea-txt-tip">已超出 <span class="font-red">{{commentLength - commentMaxLength}}</span> 字</div>',"</div>","</div>",'<div class="">','<div v-if="data.type === 4" class="feed-transmit">','<i class="icon-nc-share2 mr1"></i>','<a href="javascript:void(0)" class="name" style="color: #333">{{data.ownerView.user.nickname}}</a>','<span style="display:inline-block;vertical-align:middle;" class="font-gray">{{transmitText}}</span>',"</div>",'<div class="feed-cont-quote">','<div v-if="title" class="feed-title" v-html="title"></div>','<div class="feed-cont">','<p v-html="content"></p>','<p v-if="suffix">{{suffix}}</p>',"</div>","</div>","</div>",'<div class="pop-publish-oprt">','<div class="publish-tool-bar">','<div class="publish-tool-item" ref="btnEmoji">','<i class="icon-nc-face4"></i>表情',"</div>",'<div v-if="data.type >= 5" class="publish-tool-item">','<label @click.prevent="replayRoot = !replayRoot" class="checkbox" :class="replayRoot ? \'checked\' : \'\'">','<span class="icons"></span><input type="checkbox">同时回复给原作者',"</label>","</div>","</div>",'<div class="feed-publish-oprt">','<button @click="actionForward" type="button" class="btn btn-primary btn-sm">发布</button>',"</div>","</div>","</div>","</div>"].join(""),props:["data"],created:function f(){this.$mount()},mounted:function h(){var t=this;t.$nextTick(function(){console.log("focus"),t.$refs.input.focus(),t.initEmoji()})},data:function(){return{comment:"",replayRoot:!1,commentWarnLength:990,commentMaxLength:1e3}},computed:{commentLength:function v(){return r.trim(this.comment).length},title:function x(){var t=this.data,e=this.data.type,n=s.json(t.ext)||{};return console.log("title"),1===e||9===e?n.title:3===e?t.ownerView.user.nickname+"的回帖：":4===e?1===t.root.type||3===t.root.type||9===t.root.type?s.json(t.root.ext).title:t.root.ownerView.user.nickname:t.ownerView.user.nickname+"说："},content:function y(){var t=this,e=t.data,n=t.data.type,o=0,i="",a=1===n||9===n?t.filterHTML(s.json(e.ext,{}).content||""):3===n?t.filterHTML(s.json(e.ext,{}).commentContent||""):4===n?t.filterHTML(1===e.root.type||9===e.root.type?s.json(e.root.ext).content||"":3===e.root.type?s.json(e.root.ext).commentContent||"":e.root.content||""):t.filterHTML(t.data.content);return s.forEach(a,function(t){if(!(o+t.length<200))return i=i+t.slice(0,200-o)+"...",s.BREAK;i=i+"<p>"+t+"</p>",o+=t.length}),i},suffix:function g(){var t,e=this,n=e.data.type;return 4!==n?e._getSuffix(e.data.ext,n):(t=e.data.root,e._getSuffix(t.ext,t.type))},transmitText:function w(){var t=this.filterHTML(this.data.content).join("");return 200<t.length?t.slice(0,200)+"…":t}},methods:{initEmoji:function b(){var e=this,n=e.$refs.input,o=u.show({target:e.$refs.btnEmoji,call:function(t){e.isFocus=!0,n.focus(),e.$nextTick(function(){o.attach.fixPosition(),u.renderInIpt(n,t)})}});e.$ncPushChild(o)},check:function j(){if(this.comment.length>this.commentMaxLength)return l.alert("字数超出限制啦"),!1;return!0},clear:function L(){this.comment=""},actionForward:function T(){var t=this,e=t.data,n=5<=t.data.type?JSON.stringify({ext:e.ext,content:t.data.content}):e.ext,o=1===e.ownerView.ownerType?s.json(e.ext).author:e.ownerView.user.userId;t.check()&&c.createShare({body:{content:t.comment,ext:n,entityId:e.sourceId,entityType:e.sourceType,entityOwner:o,uuid:e.uuid},call:function(){t.replayRoot&&p.cmtAdd({captcha:{type:d.captcha.postComment},body:{entityType:t.data.sourceType,entityOwnerId:o||0,entityId:t.data.sourceId,commentContent:t.comment},call:function(t){},error:function(t){l.alert(t.msg)}}),t.$emit("forward"),l.tips("转发成功"),t.clear(),t.popup.close()},error:function(t){l.alert(t.msg)}})},filterHTML:function k(t){var e=(t=(t=t.replace(/<img data\-card\-emoji=['"](.*?)['"][^>]*src=['"]([^'"]+)[^>]*>/gi,"$1")).replace(/<img [^>]*src=['"]([^'"]+)[^>]*>/gi,"[图片]")).split(/<br[^>]*?>/gi);return s.map(e,function(t){return r.trim(t).replace(/<[^>].*?>/gi,"")})},_getSuffix:function M(t,e){return{6:"[打卡]",7:new Array((s.json(t,{}).imgs||[]).length+1).join("[图片]"),8:"[链接]"}[e]||""}}});s.extend(m,{show:function $(t){var e=new m({propsData:t.propsData});return l.wrap(e,{width:750,hasNoFooter:!0,hasNoTitle:!0}),e}})});
define("nowcoder/1.2.1280/javascripts/component/feed/publisher/index",["nc","cpn","ncpc","./cpn/editor","./cpn/clock","./cpn/loading","./cpn/error","../../../action/clock","./cpn/photo","./cpn/linkItem","../../../action/feed","./cpn/btnLink","./cpn/btnCircle","../../../action/circle","./util/util","./util/upload"],function(t,n,i){var e=t("nc"),c=t("cpn"),o=t("ncpc"),s=e.$,l=e.Base,a=(e.Time,e.Dom,e.Num,e.Uri),r=e.Vue,u=e.Db,p=c.Popup,h=o.Env,d=o.AttachEmoji,f=t("./cpn/editor"),m=t("./cpn/clock"),g=t("./cpn/photo"),k=t("./cpn/linkItem"),v=t("./cpn/btnLink"),y=t("./cpn/btnCircle"),b=t("./util/util"),x=t("./util/upload"),L=t("../../../action/clock"),C=t("../../../action/feed"),T="FEED_CACHE_KEY_"+h.getUid();function E(){return{isFocus:!1,content:"",contentMaxLength:1e3,contentWarnLength:900,type:0,circle:-1,imageMaxCount:9,images:[],clock:{isLoaded:!1,date:new Date,doneQuestionCount:0,submitCodeCount:0,learnCourseCount:0,days:0},linkStatus:"loading",link:{icon:"",title:"",url:""}}}i.exports=r.extend({template:['<div class="feed-publish-area" :class="isFocus || type ? \'focus\' : \'\'" @click="actionFocus">','<Editor ref="input" v-model="content" :readonly="!isFocus" placeholder="此刻你想和大家分享什么..." :upload="upload"></Editor>','<div v-show="type || contentLength > contentWarnLength" class="focus-content">','<Clock :isShow="isType(1)" v-model="clock" @cancel="actionType(0)"></Clock>','<Photo :isShow="isType(2)" ref="photo" v-model="images" :maxCount="imageMaxCount" @cancel="actionType(0)"></Photo>','<LinkItem :isShow="isType(3)" :link="link" :status="linkStatus" @cancel="actionType(0)" @reinput="actionLink(true)"></LinkItem>','<template v-if="contentLength > contentWarnLength">','<div v-if="contentLength <= contentMaxLength" class="textarea-txt-tip">还剩<span class="font-green">{{contentMaxLength - contentLength}}</span>字</div>','<div v-else class="textarea-txt-tip">已超出<span class="font-red">{{contentLength - contentMaxLength}}</span>字</div>',"</template>","</div>",'<div class="publish-tool-bar">','<div v-show="isImageMax || !isImageEnable" class="publish-tool-item disabled js-nc-title-tips" :data-title="disabledReason2" @click="actionMaxCount"><i class="icon-picture"></i>图片</div>','<div v-show="!isImageMax && isImageEnable" class="publish-tool-item" ref="btnImage"><i class="icon-picture"></i>图片</div>','<div class="publish-tool-item js-nc-title-tips" :data-title="disabledReason1" @click="actionClock" :class="isClockEnable ? \'\' : \'disabled\'"><i class="icon-nc-sign2"></i>打卡</div>','<BtnLink class="js-nc-title-tips" :data-title="disabledReason3" @add-link="actionAddLink" :isDisabled="!isLinkEnable" ref="btnLink"></BtnLink>','<div class="publish-tool-item" ref="btnEmoji"><i class="icon-nc-face4"></i>表情</div>',"</div>",'<div class="feed-publish-oprt">','<BtnCircle v-model="circle"></BtnCircle>','<button type="button" :disabled="isEmpty" :class="isEmpty ? \'btn-default\' : \'btn-primary\'" class="btn btn-sm" @click="actionSubmit">发布</button>',"</div>","</div>"].join(""),components:{Editor:f,Clock:m,Photo:g,LinkItem:k,BtnLink:v,BtnCircle:y},data:E,provide:function(){return{upload:this.upload}},mounted:function $(){var t=this;t.$nextTick(function(){t.input=t.$refs.input,t.initEmoji(),t.initUpload(),t.initCircle(),t.initCache()})},methods:{initCache:function I(){var c=this;c.$nextTick(function(){!function e(){var t=u.get(T)||{},n=t.extData||{},i=+t.type||0;c.content=t.content||"",2===i?c.images=l.filter(n.imgs,function(t){return!!t}):3===i&&n&&(c.link=n,c.linkStatus="success");c.type=2===i&&0<c.images.length?2:3===i&&c.link?3:0}(),function n(){function t(){u.set(T,{type:c.type,content:c.content,extData:c.extData})}c.$watch("content",t),c.$watch("extData",t)}()})},initEmoji:function M(){var n=this,i=n.$refs.input,e=d.show({target:n.$refs.btnEmoji,call:function(t){n.isFocus=!0,i.focus(),n.$nextTick(function(){e.attach.fixPosition(),d.renderInIpt(i.$refs.input,t)})}});n.$ncPushChild(e)},initUpload:function w(){var n=this,t=[n.$refs.btnImage,n.$refs.photo.$refs.btnImage];l.forEach(t,function(t){b.initUpload({target:t,context:n.upload})})},initCircle:function D(){+a.getParam("circleId")&&(this.isFocus=!0,this.$refs.input.focus())},clear:function S(){var i=this,t=E.call(i);l.forEach(t,function(t,n){i[n]=t}),u.remove(T),i.content=""},check:function j(){var t=this,n=t.type,i=t.extData,e=s.trim(t.input.val()),c="";if(e||i||0!==n){if(t.contentLength>t.contentMaxLength)c="内容最大长度为"+t.contentMaxLength;else if(2===n&&i){var o=l.findIndex(i.imgs,function(t){return!t});0<=o&&(c="请等待图片上传完成")}else if(3===n&&i){var a=t.linkStatus;c="error"===a?"获取网址信息出错":"loading"===a?"请等待网址加载完成":""}}else c="内容不能为空";return c&&p.alert(c),!c},isType:function F(t){return this.type===t},actionFocus:function B(){this.isFocus=!0},actionType:function P(t){this.type=t},actionClock:function R(){0===this.type&&this.actionType(1)},actionMaxCount:function U(){this.isImageMax&&p.alert("最多只能上传"+this.imageMaxCount+"张图片")},actionLink:function A(t){var n=this.$refs.btnLink;t&&(this.actionType(0),n.show(!1));0===this.type&&n.show()},actionAddLink:function W(t){var n=this;n.actionType(3),n.$refs.btnLink.show(!1),n.linkStatus="loading",b.getLinkDetail({link:t,call:function(t){n.linkStatus=t?"success":"error",t&&(n.link=t)}})},actionSubmit:function _(){var n=this,t=n.type;if(!n.check())return;if(1===t)return L.newClockRecord({body:{feeling:n.input.val().replace(/\s*$/,""),circle:n.circle},call:function(t){n.$emit("publish"),n.clear()},error:function(t){p.alert(t.msg)}});var i=n.extData;C.createMoment({body:{content:n.input.val().replace(/\s*$/,""),type:t,ext:i?JSON.stringify(i):undefined,circle:n.circle},call:function(t){n.$emit("publish"),n.clear()},error:function(t){p.alert(t.msg)}})}},watch:{images:function N(){var t=(this.images||[]).length;this.actionType(0===t?0:2)}},computed:{upload:function H(){var n=this;return new x({max:n.imageMaxCount,getList:function(){return n.images},update:function(t){n.images=t,n.actionType(2)}})},extData:function J(){var t,n=this.type;if(2===n){var i=l.map(this.images,function(t){return t.isLoading?null:{src:t.src,width:t.width,height:t.height,alt:t.alt}});0<i.length&&(t={imgs:i})}else 3===n&&(t=this.link);return t},isEmpty:function K(){return 0===this.type&&!this.content},isImageEnable:function O(){return!this.type||this.isType(2)},isClockEnable:function Q(){return this.isType(0)},isLinkEnable:function V(){return this.isType(0)},isImageMax:function Y(){return(this.images||[]).length>=this.imageMaxCount},contentLength:function q(){return s.trim(this.content).length},disabledReason1:function z(){return this.isType(1)?"当前正在打卡哦":this.isType(2)?"暂不支持带图打卡哦":this.isType(3)?"暂不支持同时打卡和分享链接哦":""},disabledReason2:function G(){var t=this;t.type;return t.isType(2)&&t.isImageMax?"最多可以上传"+t.imageMaxCount+"张图片哦":t.isType(1)?"暂不支持带图打卡哦":t.isType(3)?"暂不支持带图分享链接哦":""},disabledReason3:function X(){this.type;return this.isType(1)?"暂不支持同时打卡和分享链接哦，你可以直接在正文中输入要分享的网址哦":this.isType(2)?"暂不支持带图分享链接，你可以直接在正文中输入要分享的网址哦":this.isType(3)?"当前正在分享链接哦":""}}})});
define("nowcoder/1.2.1280/javascripts/component/feed/list/cpn/content",["nc","cpn","ncpc"],function(t,n,e){var i=t("nc"),c=t("cpn"),r=(t("ncpc"),i.Base),a=i.$,o=c.PopupImage,s=/<img (?!data\-card\-emoji=['"].*?['"])[^>]*src=['"]([^'"]+)[^>]*>/gi;e.exports=Vue.extend({template:["<div>",'<div v-if="content" class="feed-cont">','<div class="nc-post-content" v-if="config.isShowFullContent || (stickerLength <= 6 && contentText.length < 210)" v-html="contentHtml"></div>',"<template v-else>",'<div v-show="isFold">','<div class="nc-post-content" v-html="contentFold"></div>','<div v-if="type !== 1 && type !== 9" class="fold-article"><span class="font-green" @click.prevent="actionFold" style="cursor:pointer;">展开全文<i class="icon-angle-down"></i></span></div>',"</div>",'<div v-show="!isFold">','<div class="nc-post-content" v-html="contentHtml"></div>','<div class="fold-article"><span class="font-green" @click.prevent="actionFold" style="cursor:pointer;">收起全文<i class="icon-angle-up"></i></span></div>',"</div>","</template>","<slot></slot>","</div>",'<div class="feed-cont" v-else><slot></slot></div>',"</div>"].join(""),props:["type","content"],inject:["config","action"],data:function(){return{isFold:!0}},mounted:function l(){var t=this;t.$nextTick(function(){t.initImage()})},methods:{initImage:function d(){a(this.$el).on("click",".js-feed-thumbnail",function(t){var n=a(t.currentTarget),e=a.trim(n.attr("data-src"));e&&o.show(e)})},actionFold:function p(){var t=this;t.isFold=!t.isFold,t.action.fixPosition({el:(t.$parent||{}).$el})}},computed:{contentText:function v(){return(this.content||"").replace(/<[^>].*?>/gi,"")},imageHtml:function m(){if(3!==this.type)return"";var t=(this.content||"").match(s),n=r.map(t,function(t){var n=/<img (?!data\-card\-emoji=['"].*?['"])[^>]*src=['"]([^'"]+)[^>]*>/i.exec(t);return(n||[])[1]||""});return r.map(n,function(t){return'<a href="javascript:void(0)" data-src="'+t+'" class="feed-add-pic link-green js-feed-thumbnail"><i class="icon-picture"></i>评论配图</a>'}).join("")},stickerLength:function u(){return(this.content.match(/<img (data\-card\-emoji=['"].*?['"])[^>]*src=['"]([^'"]+)[^>]*>/gi)||[]).length},contentFold:function f(){var t=this,n=1===t.type||9===t.type?'<span class="font-green" style="cursor:pointer;">查看全文</span>':"",e=0,i=t.contentText.slice(0,200)+"...";if(t.contentText.length<200&&6<t.stickerLength)for(var c,o=/<img (data\-card\-emoji=['"].*?['"])[^>]*src=['"]([^'"]+)[^>]*>/gi;null!==(c=o.exec(t.content));)6===++e&&(i=t.content.slice(0,c.index)+c[0]+"...");return i+t.imageHtml+n},contentHtml:function g(){var c=this;if(3!==c.type)return c.content.replace(/\r|\n|\r\n/g,"<br>");var t=(c.content||"").replace(s,"");if(""===t.replace(/ /g,"").replace(/<br\/?>/g,"").replace(/<\/?div>/g,""))return c.imageHtml;if(t&&/<[^>].*?>/gi.test(t))return t+c.imageHtml;var n=t.split(/\r|\n|\r\n/),o=n.length;return r.map(n,function(t,n){var e=n+1===o,i=e?c.imageHtml:"";return a.trim(t)?"<div>"+t+i+"</div>":i?"<div>"+i+"</div>":"<br />"}).join("")}}})});
define("nowcoder/1.2.1280/javascripts/component/feed/list/cpn/main",["nc","cpn","ncpc","./menu","./reply","../../../cmt/list/list","../../../cmt/item/item","../../../cmt/cpn/action","../../../cmt/cpn/reply","../../../cmt/cpn/lord","../../../../core/siteConfig","../../../../action/contest","../../../cmt/util/action","../../../cmt/item/sub","../../../../action/feed","../../../../action/discuss"],function(e,t,i){var a=e("nc"),s=e("cpn"),n=e("ncpc"),o=a.Base,c=a.Event,l=(a.$,s.Popup),r=s.VueIdentity,d=(n.Env,n.Config),m=e("./menu"),p=e("../../../../action/contest");i.exports=Vue.extend({template:["<div :data-type=\"data.type\" :class=\"isForward ? '' : 'module-box feed-item-mod'\">",'<template v-if="!isForward">','<div class="feed-item-box clearfix">','<a :href="profileUrl" target="_blank" class="feed-head-pic" :class="isUser ? \'js-nc-card\' : \'\'" :data-card-uid="item.ownerId" :style="!isUser ? \'border-radius: 0\' : \'\'">','<img v-if="isUser" :src="item.ownerView.user.largeHeaderUrl + \'?x-oss-process=image/resize,m_mfit,w_100,h_100\'">','<img v-else-if="isTag" :src="item.ownerView.topic.logo + \'?x-oss-process=image/resize,m_mfit,w_100,h_100\'">',"</a>",'<div class="feed-item-bd">','<div class="feed-hd-info">',"<p>",'<template v-if="isUser">','<a :href="profileUrl" target="_blank" class="name js-nc-card" :data-card-uid="item.ownerId" :class="\'level-color-\'+item.ownerView.user.honorLevel" v-html="item.ownerView.user.nickname"></a>','<Identity v-for="item in item.ownerView.user.identity" :key="item.level" :level="item.level" :name="item.name" :iconCls="item.idenClass"></Identity>',"</template>",'<a v-else :href="\'/discuss/tag/\' + item.ownerView.topic.id" target="_blank" class="name"><i class="icon-tag"></i> {{ item.ownerView.topic.name }}</a>','<a v-if="data.type === 9" class="tag-label" :class="isFollow ? \'is-followed\' : \'selected\'" href="javascript:void(0)" @click="actionFollow">','<i v-show="isFollow" class="icon-nc-check"></i>',"{{ isFollow ? '已关注' : '+ 关注' }}","</a>",'<span v-if="actionName" class="feed-action" v-html="actionName"></span>',"</p>",'<div class="feed-time"><a :href="detailUrl" target="_blank">{{postTime}}</a></div>',"</div>",'<slot name="content"></slot>','<div class="feed-tags" v-if="topics.length">','<a v-for="item in topics" :key="item.id" class="tag-label" :href="\'/discuss/tag/\' + item.id" target="_blank" v-html="item.name"></a>',"</div>",'<div class="feed-tags" v-if="item.circle !== -1">','<a class="tag-label tag-label-new" :href="\'/circle/\' + circle.uuid" target="_blank"><i class="icon-nc-circle"></i><span v-html="circle.name"></span></a>',"</div>","</div>","</div>","</template>","<template v-else>",'<slot name="content"></slot>','<div class="feed-tags" v-if="item.circle !== -1">','<a class="tag-label tag-label-new" :href="\'/circle/\' + circle.uuid" target="_blank"><i class="icon-nc-circle"></i><span v-html="circle.name"></span></a>',"</div>","</template>",'<feed-menu v-if="canShowAction" :data="item" :is-follow.sync="isFollow" @follow="actionFollow" v-on="$listeners"></feed-menu>',"</div>"].join(""),props:["data","showType"],components:{FeedMenu:m,Identity:r},inject:["config","action"],data:function(){return{item:o.extend({},this.data),isFollow:!1}},computed:{canShowAction:function f(){return 2!==this.item.type&&!this.isForward},isForward:function u(){return"forward"===this.showType},isUser:function w(){return 0===this.item.ownerView.ownerType},isTag:function v(){return 1===this.item.ownerView.ownerType},topics:function h(){var e=this.item;return(e=(4===e.type?e.root:e)||{}).topics||[]},circle:function g(){return(this.item||{}).circleView||{}},profileUrl:function y(){var e=!!this.isUser,t=this.item.ownerView;return(e?"/profile/":"/discuss/tag/")+(e?t.user.userId:t.topic.id)},detailUrl:function b(){var e=this,t=o.json(e.data.ext)||{};return 1===e.data.type||9===e.data.type?"/discuss/"+e.data.sourceId:3===e.data.type?"/discuss/"+t.postId+"?toCommentId="+t.commentId:4<=e.data.type?"/feed/main/detail/"+e.data.uuid:"javascript:void(0)"},actionName:function _(){var e=this,t=e.item.type;return e.isTag?"有新帖了":{1:"发帖了",2:"关注了",3:"回帖了",4:"转发了",5:"说",6:e.item.content?"说":"打卡",7:e.item.content?"说":"分享图片",8:e.item.content?"说":"分享链接"}[t]||"说"},postTime:function F(){var e=(new Date).getTime(),t=Math.abs(Math.floor((e-this.data.timestamp/1e3)/1e3));return 9===this.data.type?"来自于推荐":t<60?t+"秒前":t<3600?Math.floor(t/60)+"分钟前":t<86400?Math.floor(t/3600)+"小时前":Math.floor(t/86400)+"天前"}},methods:{actionFollow:function V(){var s=this;s.action.wrap("follow",function(e){var t=!s.isFollow,i=s.item.ownerView,a=0===i.ownerType;p[t?"follow":"unfollow"]({body:{id:a?i.user.userId:i.topic.id,type:a?d.type.user:d.type.topic},call:function(e){s.isFollow=t,a&&c.fire(n.Enum.EVENT_USER_DATA_CHANGE,i.user.userId)},error:function(e){l.alert(e.msg)},always:e})})}}})});
define("nowcoder/1.2.1280/javascripts/component/feed/list/cpn/menu",["nc","cpn","ncpc","./reply","../../../../component/cmt/list/list","../../../cmt/item/item","../../../cmt/cpn/action","../../../cmt/cpn/reply","../../../cmt/cpn/lord","../../../../core/siteConfig","../../../../action/contest","../../../cmt/util/action","../../../cmt/item/sub","../../../../action/feed","../../../../action/discuss"],function(t,e,o){var i=t("nc"),n=t("cpn"),c=t("ncpc"),a=i.$,s=i.Base,r=n.Popup,l=c.Env,d=c.Action,m=c.Config,u=t("./reply"),f=t("../../../../component/cmt/list/list"),p=t("../../../../action/feed"),w=(t("../../../../action/feed"),t("../../../../action/contest")),h=t("../../../../action/discuss");o.exports=Vue.extend({template:["<div>","<div class=\"feed-item-ft level-flex\" :class=\"isShowCmt ? 'border-bottom' : ''\">",'<a href="javascript:void(0);" class="flex-item" :class="item.like ? \'selected\' : \'\'" @click="actionLike"><i class="icon-nc-zan2"></i>{{item.likeCount}}</a>','<a v-if="data.type === 1 || data.type === 3 || data.type === 9" :href="commentUrl" target="_blank" class="flex-item"><i class="icon-nc-msg2"></i>{{item.commentCount}}</a>','<a v-else href="javascript:void(0);" class="flex-item" :class="isShowCmt ? \'selected\' : \'\'" @click="isShowCmt = !isShowCmt"><i class="icon-nc-msg2"></i>{{item.commentCount}}</a>','<a href="javascript:void(0);" class="flex-item nc-req-auth" @click="actionForward"><i class="icon-nc-share2"></i>{{item.shareCount}}</a>','<a href="javascript:void(0);" class="flex-item" @click="actionShowMore" @mouseenter.once="actionCheckFollow"><i class="icon-nc-more2"></i></a>','<ul v-show="isShowMore" class="feed-item-oprt">','<li v-for="more in moreList" @click="more.action" :class="more.class" :data-id="data.sourceId" :data-type="data.sourceType" :data-uuid="data.uuid">{{more.text}}</li>',"</ul>","</div>",'<cmt-list ref="cmtList" v-if="isShowCmt" :id="item.sourceId" :type="item.sourceType" :config="cmtConf">','<template v-slot:none><div style="margin-top:-1px;"></div></template>',"<template v-slot:footer>",'<Reply v-model="cmtContent" @submit="actionAddCmt" :type="data.type"></Reply>',"</template>","</cmt-list>","</div>"].join(""),components:{CmtList:f,Reply:u},inject:["config","action"],props:["data","isFollow"],data:function(){var t=this,e=s.extend({},t.data);return{item:e,isShowCmt:t.config.isAutoOpenCmt,isShowMore:!1,isSelf:s.id(e.ownerId)===l.getUid(),isAdmin:l.isAdmin(),isLogin:l.isLogin(),flag:{},cmtContent:"",cmtConf:{isNoReplyScroll:!0,isNoSubAt:!0,commentId:(t.config||{}).toCommentId,currentUid:l.getUid(),entityUid:e.ownerId}}},mounted:function y(){var t=this;t.$nextTick(function(){t.initCmt(),t.initShowMore()})},computed:{commentUrl:function v(){var t=this,e=s.json(t.data.ext)||{};return 1===t.data.type||9===t.data.type?"/discuss/"+t.data.sourceId+"?toCommentIpt=1":3===t.data.type?"/discuss/"+e.postId+"?toCommentId="+e.commentId:"javascript:void(0)"},moreList:function C(){var t=this,e=t.item,o=(e.type,t.isSelf),i=0===e.ownerView.ownerType,n=t.config.menu||["favorite","followTag","followUser","report","remove","delete"],c=[];return s.contains(n,"favorite")&&!o&&(1===e.type||3===e.type||9===e.type)&&c.push({text:e.follow?"编辑收藏":"收藏",action:t.actionFavorite}),s.contains(n,"block")&&!o&&9!==e.type&&c.push({text:"屏蔽本条动态",action:t.actionBlock}),s.contains(n,"followTag")&&!o&&!i&&c.push({text:t.isFollow?"取消关注标签":"关注标签",action:t.actionFollow}),s.contains(n,"blockAll")&&!o&&i&&c.push({text:"屏蔽该作者全部动态",action:t.actionBlockUser}),s.contains(n,"followUser")&&!o&&i&&c.push({text:t.isFollow?"取消关注作者":"关注作者",action:t.actionFollow}),s.contains(n,"report")&&!o&&c.push({text:"举报",action:function(){},"class":"js-nc-report"}),s.contains(n,"remove")&&o&&c.push({text:"删除",action:t.actionDelete}),s.contains(n,"delete")&&t.isAdmin&&c.push({text:"全局删除",action:function(){t.actionDelete("global")}}),c}},methods:{initCmt:function I(){var o=this;function e(){var e=o.item,t=o.$refs.cmtList;t.$watch("totalCnt",function(t){e.commentCount=t})}o.$watch("isShowCmt",function(t){t&&o.$nextTick(e)})},initShowMore:function k(){var e=this,t=a(document);function o(t){e.isShowMore=!1}t.on("click",o),e.$on("hook:destroyed",function(){t.unbind("click",o)})},actionLike:function g(){var e=this,o=!e.item.like;e.action.like(o,{body:{id:e.item.sourceId,type:e.item.sourceType},call:function(t){e.item.likeCount=t.count,e.item.like=o}})},actionAddCmt:function x(c){var a=this;a.$nextTick(function(){var n=a.$refs.cmtList;n&&a.action.wrap("addCmt",function(t){var e=a.cmtContent||"",o=a.data,i=5<=a.data.type?JSON.stringify({ext:o.ext,content:a.data.content}):o.ext;n.addCmt({content:e,toUserId:a.item.ownerId,call:function(){c.forwardFeed&&p.createShare({body:{content:e,ext:i,entityId:o.sourceId,entityType:o.sourceType,entityOwner:o.ownerView.user.userId,uuid:o.uuid},call:function(t){a.$emit("forward")},error:function(t){r.alert(t.msg)}}),c.replyRoot&&d.cmtAdd({captcha:{type:m.captcha.postComment},body:{entityType:a.data.root.sourceType,entityOwnerId:a.data.root.ownerView.user.id||0,entityId:a.data.root.sourceId,commentContent:e,toUserId:a.data.root.ownerView.user.id,toCommentId:a.data.root.sourceId},call:function(t){a.$emit("forward")},error:function(t){r.alert(t.msg)}}),a.cmtContent=""},always:t})})})},actionForward:function b(){this.action.forward(this.item)},actionCheckFollow:function S(){var e=this,t=0===e.item.ownerView.ownerType,o=e.item.ownerView;!e.isSelf&&e.action.checkFollow({entityId:t?o.user.userId:o.topic.id,entityType:t?m.type.user:m.type.topic},function(t){e.$emit("update:isFollow",t.data["is-follow"])})},actionShowMore:function F(){var t=this;if(!t.isLogin)return c.Auth.showLogin();var e=t.isShowMore;setTimeout(function(){t.isShowMore=!e},0)},actionDelete:function T(t){var e=this,o=e.item.type,i=e.item.sourceId,n="global"===t?p:1===o||9===o?h:3===o?w:p,c="global"===t?"deleteFeed":1===o||9===o?"deletePost":3===o?"delComment":4===o?"deleteShare":"deleteMoment",a="global"===t?{feedId:e.item.feedId}:o<=3?{id:i}:4===o?{shareId:i}:{momentId:i},s="是否"+("global"===t?"全局":"")+"删除这个"+(1===o||9===o?"帖子":3===o?"回帖":"动态")+"？";r.confirm(s,function(){e.action.wrap("delete",function(t){n[c]({body:a,call:function(t){e.$emit("delete",e.data)},error:function(t){r.alert(t.msg)},always:t})})})},actionBlock:function $(){var e=this;r.confirm("确定屏蔽本条动态吗？",function(){e.action.wrap("block",function(t){p.shieldFeed({body:{feedId:e.item.uuid},call:function(t){e.$emit("block",e.data),r.tips("操作成功")},error:function(t){r.alert(t.msg)},always:t})})})},actionBlockUser:function U(){var e=this;r.confirm("确定屏蔽该作者的全部动态吗？",function(){e.action.wrap("blockUser",function(t){w.blockUser({body:{targetId:e.item.ownerView.user.userId},call:function(t){r.tips("操作成功")},error:function(t){r.alert(t.msg)},always:t})})})},actionFavorite:function L(){var t=this,e=!t.item.follow;t.action.favorite(e,{body:{id:t.item.sourceId,type:m.type.post},call:function(){t.item.follow=e}})},actionFollow:function A(){this.$emit("follow")}}})});
define("nowcoder/1.2.1280/javascripts/component/feed/list/cpn/picture",["nc"],function(i,t,e){var n=i("nc"),o=n.$,s=n.Uri;n.Base;e.exports=Vue.extend({template:['<div class="col-img-box" v-if="(items || []).length > 0">','<div v-if="modeShowed[\'detail\']" v-show="isDetail">','<div class="col-img big-show-img" ref="imgContainer" @mousemove="actionHover" @click="actionDispatch" :style="{cursor: cursor}">','<template v-for="(item, index) in items">','<template v-if="indexShowed[index] || (index === current + 1 && indexLoaded[current])">','<img :key="index" v-show="index === current && indexLoaded[index]" @load="actionLoad(index)" :src="item.src" :alt="item.alt">','<div v-show="index === current" v-if="!indexLoaded[index]" class="col-img-loading" :style="\'height:\' + getLoadingHeight(item) + \'px\'"><img src="//uploadfiles.nowcoder.com/images/20160415/56_1460702753117_F68B6B6E9DBC3FED9828888665D0AF32" /></div>',"</template>","</template>","</div>",'<div v-show="isDetail && items.length > 1" class="thumbnail-img-box">','<div v-for="(item, index) in items" :key="index" class="col-img thumbnail-img" :class="index === current ? \'selected\' : \'\'">','<img @click="actionOpen(index)" :src="srcPadding(item)" :alt="item.alt">',"</div>","</div>","</div>",'<div v-if="modeShowed[\'normal\']" v-show="!isDetail">','<div v-for="(group, rowIndex) in groupList" :key="rowIndex">','<div v-for="(item, colIndex) in group" :key="colIndex" class="col-img" :class="listCls" style="cursor:zoom-in" :style="inlineStyle">','<img @click="actionOpen(rowIndex * clsLength + colIndex)" :src="srcPadding(item)" :alt="item.alt" :style="clipStyle(item)" loading="lazy">','<span v-if="checkLongImage(item)" class="feed-img-tag">长图</span>',"<span v-else-if=\"item.alt.split('.').pop().toLowerCase() === 'gif'\" class=\"feed-img-tag\">GIF</span>","</div>","</div>","</div>","</div>"].join(""),props:["items"],inject:["action","config"],data:function(){this.items.length;return{width:0,leftDistance:0,cursor:"zoom-out",modeShowed:{normal:!0},indexShowed:{},indexLoaded:{},isDetail:!1,current:-1}},computed:{isSingle:function c(){return 1===this.items.length},clsLength:function h(){var i=this.items.length;return i%3==0||4<i?3:2},groupList:function d(){for(var i=this,t=[],e=0,n=i.items.length;e<n;e+=i.clsLength)t.push(i.items.slice(e,e+i.clsLength));return t},listCls:function r(){return this.isSingle?"two-col-img":"three-col-img"},inlineStyle:function a(){var i=this.items[0];if(this.isSingle&&(i.width<275||i.height<275))return i.width<275&&i.height<275?{width:i.width+"px",height:i.height+"px"}:i.width<275&&275<=i.height?{width:275/i.height*i.width+"px",height:"275px"}:275<=i.width&&i.height<275?{width:"275px",height:275/i.width*i.height+"px"}:{};return{}}},methods:{clipStyle:function l(i){var t={"object-fit":this.isSingle&&(i.width<275||i.height<275)?"scale-down":"cover"};return t["object-position"]=i.width>i.height?"center":"center top",t},srcPadding:function g(i){var t=this.isSingle?"w_550,h_550":"w_360,h_360";return s.addParam({"x-oss-process":"image/resize,m_mfit,"+t},i.src)},checkLongImage:function m(i){return 550<i.height&&i.height>2*i.width&&(!this.isSingle||275<i.width)},getLoadingHeight:function u(i){var t=i.width,e=i.height,n=o(this.$el).width();return t<=n?e:e/t*n},actionDispatch:function f(i){var t=this,e=i.pageX-t.leftDistance;e<t.width/3&&t.actionPrev(),e>=t.width/3&&e<2*t.width/3&&t.actionClose(),e>=2*t.width/3&&t.actionNext()},actionOpen:function v(i){this.isDetail=!0,this.current=i},actionClose:function w(){this.isDetail=!1},actionPrev:function p(){0===this.current?this.actionClose():this.current--},actionNext:function x(){this.current+1===this.items.length?this.actionClose():this.current++},actionHover:function L(i){var t=this,e=i.pageX-t.leftDistance;e<t.width/3&&(t.cursor=0===t.current?"zoom-out":"w-resize"),e>=t.width/3&&e<2*t.width/3&&(t.cursor="zoom-out"),e>=2*t.width/3&&(t.cursor=t.current+1===t.items.length?"zoom-out":"e-resize")},actionLoad:function S(i){this.$set(this.indexLoaded,i,!0)}},watch:{isDetail:function D(i){var t=this;t.modeShowed[i?"detail":"normal"]=!0,t.action.fixPosition({el:t.$el}),t.$nextTick(function(){var i=o(t.$refs.imgContainer);t.leftDistance=i.offset().left,t.width=i.width()})},current:function y(i){var t=this;t.$set(t.indexShowed,i,!0),t.$set(t.indexShowed,i+1,!0),t.action.fixPosition({el:t.$el})}},mounted:function k(){this.config.isPreview&&this.actionOpen(0)}})});
define("nowcoder/1.2.1280/javascripts/component/feed/list/cpn/reply",["nc","cpn","ncpc"],function(e,t,n){var i=e("nc"),o=e("cpn"),a=e("ncpc"),c=i.$,r=i.Dom,s=o.VueCheckBox,l=(a.AtList,a.AttachEmoji),p=a.Env;n.exports=Vue.extend({template:['<div class="editor-box">','<div class="reply-editbox clearfix cmt-reply-to-main">','<span class="answer-head"><img :alt="ownerName" :src="avatar"></span>','<div class="reply-write">','<textarea ref="input" v-model="content" :placeholder="placeholder || \'请输入你的观点\'" class="reply-input reply-input-textarea" style="resize: none; height: 20px;"></textarea>',"<section>",'<a ref="emoji" href="javascript:void(0);" class="icon-emotion"></a>','<CheckBox v-model="forwardFeed">转发到动态</CheckBox>','<CheckBox v-if="type === 4" v-model="replyRoot" class="ml2">同时回复给原作者</CheckBox>','<a @click="actionReply" href="javascript:void(0);" class="btn float-right btn-primary reply-btn">回复</a>',"</section>","</div>","</div>","</div>"].join(""),props:["type","placeholder","value"],components:{CheckBox:s},data:function(){var e=p.getUser();return{isFocus:!1,avatar:e.ownerTinyHead,ownerName:e.ownerName,content:this.value,forwardFeed:!1,replyRoot:!1}},mounted:function d(){var e=this;e.initVal(),e.$nextTick(function(){e.initIpt(),e.initEmoji()})},methods:{initVal:function u(){var t=this;t.$watch("value",function(e){e!==t.content&&(t.content=e)}),t.$watch("content",function(e){t.$emit("input",e),t.$nextTick(function(){r.dispatchEvent(t.$refs.input,"change")})})},initIpt:function f(){c(this.$el);var e=c(this.$refs.input);r.txtAutoHeight({el:e})},initEmoji:function h(){var t=this,e=l.show({target:t.$refs.emoji,call:function(e){l.renderInIpt(t.$refs.input,e)}});t.$ncPushChild(e)},focus:function v(){c(this.$refs.input).focus()},actionReply:function m(){var e=this;e.$emit("submit",{forwardFeed:e.forwardFeed,replyRoot:e.replyRoot})}}})});
define("nowcoder/1.2.1280/javascripts/component/feed/list/util/action",["nc","cpn","ncpc","../../../../action/contest","../../popup/popupForward","../../../../action/feed"],function(o,t,n){var i=o("nc"),c=o("cpn"),e=o("ncpc"),a=i.$,r=i.Base,l=i.Clazz,s=i.Dom,u=c.Popup,d=e.Util,f=e.PopupCollect,p=n.exports=l.create(),y=o("../../../../action/contest"),w=o("../../popup/popupForward");function g(o,t){var n=this;n.flag[o]||(n.flag[o]=!0,r.isFunction(t)&&t(function(){n.flag[o]=!1}))}r.extend(p.prototype,{initialize:function b(o){var t=this;t.flag={},t.wrap=g,t.ctx=o.context},fixPosition:function h(o){o=o||{};var t=this.ctx,f=a(window),p=d.getNavHeight(),n=a(o.el);n=n.get(0)?n:a(t.$el);var i=r.id(o.type)||"0",c=f.scrollTop(),e=l(n,i);function l(o,t){var n=s.getPosTop(o),i=f.scrollTop(),c=i+p,e=i+f.height(),l=c<=n&&n<e;if("0"===t&&!l)return!1;if("1"!==t)return!0;var a=o.outerHeight(),r=n+a,u=c<=r&&r<e;return!u}t.$nextTick(function(){var o=l(n,i);o||(e&&f.scrollTop(c),!e&&s.scrollToEl({el:n,ext:-1*(p+5)}))})},like:function v(t,n){this.wrap("like",function(o){y[t?"like":"unlike"]({body:n.body,call:function(o){r.isFunction(n.call)&&n.call(o)},error:function(o){u.alert(o.msg)},always:o})})},forward:function T(o){var t=this;w.show({propsData:{data:o}}).$on("forward",function(){t.ctx.$emit("forward")})},favorite:function x(o,t){var n=this;function i(o,t,n){if(!o||0<n.length)return y[o?"createFollowTags":"editFollowTags"]({body:r.extend(t,{tags:n.join(",")}),call:function(){},error:function(o){u.alert(o.msg)}})}!o&&f.show({entityId:t.body.id,entityType:t.body.type,isEdit:!0,ok:r.bind(i,null,!1,t.body),cancel:function c(){n.wrap("favorite",function(o){y.unfollow({body:t.body,call:function(o){r.isFunction(t.call)&&t.call(o)},error:function(o){u.alert(o.msg)},always:o})})},close:function(){}}),o&&n.wrap("favorite",function(o){y.follow({body:t.body,call:function(o){r.isFunction(t.call)&&t.call(o),f.show({entityId:t.body.id,entityType:t.body.type,isEdit:!1,ok:r.bind(i,null,!0,t.body),cancel:function(){},close:function(){}})},error:function(o){u.alert(o.msg)},always:o})})},checkFollow:function F(o,t){y.isFollow({query:{entityId:o.entityId,entityType:o.entityType},call:function(o){t(o)}})}})});
define("nowcoder/1.2.1280/javascripts/component/feed/publisher/cpn/btnCircle",["nc","cpn","../../../../action/circle","ncpc"],function(i,t,e){var o=i("nc"),n=i("cpn"),c=o.$,s=o.Uri,a=o.Base,l=n.Popup,r=i("../../../../action/circle"),p={};e.exports=Vue.extend({template:['<div class="choose-group-oprt" :class="isShow ? \'hover\' : \'\'" @click.stop="show(!isShow)">','<span v-if="value === -1">选择圈子</span>','<span v-else v-html="current.name" class="title"></span>','<i class="icon-angle-down"></i><i class="icon-angle-up"></i>','<div class="tooltip bottom tooltip-info" style="top: 12px;left: 0;" @click.stop>','<div class="tooltip-arrow"><i></i></div>','<div class="tooltip-inner">','<div class="search-input-wrap right focus">','<label class="icon-search"></label>','<input ref="input" type="text" v-model="keyword" @input="getList" placeholder="输入圈子关键字搜索" />',"</div>",'<ul class="choose-group-tips">',"<li :class=\"value === -1 ? 'selected' : ''\" @click=\"actionSelect()\">",'<a href="javascript:void(0)" class="choose-group-pic"><img src="//static.nowcoder.com//fe/style/images/common/res/empty/head.png" alt="empty"></a>','<div class="choose-group-info" style="margin-top: 0"><div class="title">不发到任何圈子</div></div>','<i class="icon-ok-sign"></i>',"</li>",'<li v-for="item in items" @click="actionSelect(item)" :class="item.id === value ? \'selected\' : \'\'">','<a href="javascript:void(0)" class="choose-group-pic"><img :src="item.logo + \'?x-oss-process=image/resize,m_mfit,w_150,h_150\'" alt="logo"></a>','<div class="choose-group-info">','<div class="title" v-html="item.name">','<span v-html="item.name"></span>','<button v-if="!item.member" type="button" class="btn btn-primary btn-xs">推荐</button>',"</div>","<p>{{item.memberCount}} 位圈友</p>","</div>",'<i class="icon-ok-sign"></i>',"</li>","</ul>","</div>","</div>","</div>"].join(""),props:["value"],data:function(){return{isShow:!1,current:{},items:[],keyword:""}},mounted:function u(){var i=this;i.initCircle(),i.$nextTick(function(){i.initHide()})},methods:{initHide:function d(){var t=this,i=c(document);function e(i){t.isShow=!1}i.on("click",e),t.$on("hook:destroyed",function(){i.unbind("click",e)})},initCircle:function m(){var e=this,o=s.getParam("circleId");o&&e.getList(function(i){var t=a.find(i,function(i){return i.id===+o});t?(e.actionSelect(t),e.$emit("input",t.id)):e.$emit("input",-1)})},show:function v(i){var t=this;i=!1!==i,(t.isShow=i)&&t.focus(),t.getList()},focus:function f(){var i=this;i.$nextTick(function(){i.$refs.input.focus()})},getList:function h(e){var o=this,n=c.trim(o.keyword);if(0<(p[n]||[]).length)return void(o.items=p[n]);r.getCircleList({query:{query:n},call:function(i){var t=i.data.data;p[n]=t,c.trim(o.keyword)===n&&(o.items=t),a.isFunction(e)&&e(t)}})},join:function g(t){var e=this;r.applyCircle({type:"POST",body:{circleId:t.id,content:""},call:function(i){t.member=!0,e.$emit("input",t.id)},error:function(i){l.alert(i.msg)}})},actionSelect:function b(i){var t=this;t.isShow=!1,(t.current=i)?i.member?t.$emit("input",i.id):i.member||t.join(i):t.$emit("input",-1)}}})});
define("nowcoder/1.2.1280/javascripts/component/feed/publisher/cpn/btnLink",["nc"],function(i,n,o){var t=i("nc"),s=(t.Base,t.$),e=t.Str;o.exports=Vue.extend({template:["<div class=\"publish-tool-item\" @click.stop=\"show(!isShow)\" :class=\"[isShow ? 'hover' : '', isDisabled ? 'disabled' : '']\">",'<i class="icon-nc-link"></i>链接','<div class="tooltip bottom tooltip-info" style="top: 12px;left: 0;" @click.stop>','<div class="tooltip-arrow"><i></i></div>','<div class="tooltip-inner publish-link-box">','<input ref="input" @keyup.enter="actionAddLink" @focus="error = \'\'" type="text" v-model="link" placeholder="输入网页链接">',"<div>","<span>一次只推荐一个网页哦</span>",'<span class="fn-error">{{error}}</span>','<a @click="actionAddLink" href="javascript:void(0)" class="link-green float-right">添加</a>',"</div>","</div>","</div>","</div>"].join(""),props:["isDisabled"],data:function(){return{link:"",error:"",isShow:!1,isComposing:!1}},methods:{initHide:function c(){var n=this,i=s(document);function o(i){n.isShow=!1}i.on("click",o),n.$on("hook:destroyed",function(){i.unbind("click",o)})},initComposition:function r(){var i=this,n=s(i.$refs.input);function o(){i.isComposing=!0}function t(){i.isComposing=!1}n.on("compositionstart",o),n.on("compositionend",t),i.$on("hook:destroyed",function(){n.unbind("compositionstart",o),n.unbind("compositionend",t)})},show:function d(i){var n=this;i=!1!==i&&!n.isDisabled,(n.isShow=i)&&n.focus()},focus:function l(){var i=this;i.$nextTick(function(){i.$refs.input.focus()})},actionAddLink:function a(){var i=this;if(i.isComposing)return;if(!i.url)return void(i.error="请输入正确的网页链接");i.$emit("add-link",i.url),i.link=""}},mounted:function u(){var i=this;i.$nextTick(function(){i.initHide(),i.initComposition()})},computed:{url:function p(){return e.fixUrl(this.link)}}})});
define("nowcoder/1.2.1280/javascripts/component/feed/publisher/cpn/clock",["nc","./loading","./error","../../../../action/clock","ncpc"],function(e,o,a){var n=e("nc"),i=(n.Base,n.Time),d=n.Vue,t=e("./loading"),s=e("./error"),r=e("../../../../action/clock");a.exports=d.extend({template:['<div v-show="isShow">','<Loading v-if="isLoading">打卡信息加载中...</Loading>','<Error v-else-if="error">{{error}}</Error>','<div v-else class="pop-sign-main clearfix">','<a href="javascript:void(0);" class="icon-nc-tips-close" @click="$emit(\'cancel\')"></a>','<div class="pop-sign-time">','<div class="pop-sign-day">{{month}}</div>','<div class="pop-sign-week">{{day}}</div>',"</div>",'<dl class="pop-sign-info">',"<dt>在牛客学习打卡{{value.days}}天，今天完成了：</dt>",'<dd><p>刷题</p><p v-if="value.doneQuestionCount">{{value.doneQuestionCount}}道</p><p v-else>--</p></dd>','<dd><p>提交代码</p><p v-if="value.submitCodeCount">{{value.submitCodeCount}}行</p><p v-else>--</p></dd>','<dd><p>学习课程</p><p v-if="value.learnCourseCount">{{value.learnCourseCount}}课</p><p v-else>--</p></dd>',"</dl>","</div>","</div>"].join(""),props:["value","isShow"],components:{Loading:t,Error:s},data:function(){new Date;return{isLoading:!0,isLoaded:!1,data:null,error:"",lastTime:0}},methods:{update:function u(){var o=this;o.updateVal();var e=new Date,a=e.getTime(),n=o.lastTime;(!n||6e4<a-n||i.form(e,"yyyy-MM-dd")!==i.form(new Date(n),"yyyy-MM-dd"))&&(o.lastTime=a,o.isLoading=!o.isLoaded,r.getTodayClockInfo({type:"GET",call:function(e){o.data=e.data,o.error="",o.isLoaded=!0,o.updateVal()},error:function(e){o.error="获取打卡信息出错，请重试",o.lastTime=0},always:function(){o.isLoading=!1}}))},updateVal:function l(){var e=this,o=(new Date,e.data||{});e.$emit("input",{isLoaded:e.isLoaded,date:new Date,days:o.clockDay,doneQuestionCount:o.doneQuestionCount,submitCodeCount:o.submissionCount,learnCourseCount:o.vodCount})}},computed:{month:function c(){return i.form(this.value.date,"yyyy-MM")},day:function p(){return i.form(this.value.date,"dd")}},watch:{isShow:function v(e){e&&this.update()}}})});
define("nowcoder/1.2.1280/javascripts/component/feed/publisher/cpn/editor",["nc"],function(t,n,e){var i=t("nc"),o=i.$,u=i.Base,a=i.Vue,r=i.Dom,c=i.Upload;e.exports=a.extend({template:'<textarea ref="input" v-model="content" :readonly="isReadonly" :placeholder="placeholder"></textarea>',props:["isReadonly","value","placeholder","upload"],data:function p(){return{content:this.value}},mounted:function s(){var t=this;t.$nextTick(function(){t.input=o(t.$refs.input),t.initInput(),t.initPasteImage()})},methods:{initInput:function l(){r.txtAutoHeight({el:this.$refs.input})},initPasteImage:function f(){var t=this,a=t.upload;if(!a)return;var n=t.$refs.input,e=r.bindPaste(document,n,function(t,o){u.forEach(t,function(t){if(t&&"file"===t.kind&&/image/.test(t.type||"")){var n=t?t.getAsFile():null,e=a.add(n);if(n&&(!e||e.right)){o.preventDefault();var i=new c({url:"/uploadImage?type=1&watermark=true",progress:function(t){a.progress(n,t)},error:function(){a.error(n)},call:function(t){a.finish(n,t)}});i.uploadBlob(n,(new Date).getTime()+"."+n.type.split("/").pop())}}})});t.$on("hook:destroy",e)},val:function d(){return this.input.val()},focus:function h(){var t=this;t.$nextTick(function(){t.input.focus()})}},watch:{value:function v(t){this.content=t},content:function m(t){var n=this;n.$emit("input",t),n.$nextTick(function(){r.dispatchEvent(n.input,"change")})}}})});
define("nowcoder/1.2.1280/javascripts/component/feed/publisher/cpn/error",["nc"],function(e,n,s){var o=e("nc"),t=(o.Base,o.Vue);s.exports=t.extend({template:'<div class="publish-loading-tips"><slot></slot></div>'})});
define("nowcoder/1.2.1280/javascripts/component/feed/publisher/cpn/linkItem",["nc","./loading","../../../../action/feed","ncpc"],function(i,e,n){i("nc");var s=i("./loading");i("../../../../action/feed");n.exports=Vue.extend({template:["<div v-show=\"isShow\" :class=\"status !== 'error' ? 'publish-link-cont' : 'feeds-loading-fail warning-tips'\">",'<a href="javascript:void(0);" class="icon-nc-tips-close" @click="close"></a>','<Loading v-if="isLoading">正在获取网址信息...</Loading>','<template v-else-if="isError">','<i class="icon-exclamation-sign"></i> 解析失败，请核对网址并','<a href="javascript:void(0);" @click.stop="$emit(\'reinput\')" class="link-green">重新输入</a>',"</template>",'<template v-else-if="link">','<div class="web-link-logo"><img v-if="link.icon" :src="link.icon"></div>','<div class="web-link-info">','<div class="web-name" v-html="link.title || \'没有标题\'"></div>','<p style="overflow: hidden;text-overflow:ellipsis;white-space: nowrap;" v-html="link.url"></p>',"</div>","</template>","</div>"].join(""),props:["isShow","status","link"],components:{Loading:s},methods:{close:function t(){this.$emit("cancel")}},computed:{isLoading:function o(){return"loading"===this.status},isError:function l(){return"error"===this.status}}})});
define("nowcoder/1.2.1280/javascripts/component/feed/publisher/cpn/loading",["nc"],function(e,s,i){var n=e("nc"),o=(n.Base,n.Vue);i.exports=o.extend({template:'<div class="publish-loading-tips"><i class="icon-refresh"></i><slot></slot></div>'})});
define("nowcoder/1.2.1280/javascripts/component/feed/publisher/cpn/photo",["nc"],function(e,t,i){var s=e("nc"),o=s.Base,a=s.Vue;i.exports=a.extend({template:['<div v-show="isShow">','<ul class="publish-photo-list mb2">','<li v-for="item in images" :key="item.id">','<a href="javascript:void(0);" class="icon-nc-tips-close" @click="actionDel(item)"></a>','<template v-if="item.isLoading">','<img class="image-loading" src="//uploadfiles.nowcoder.com/images/20160415/56_1460702753117_F68B6B6E9DBC3FED9828888665D0AF32">','<div class="image-progress" v-if="item.progress" :style="\'width:\' + item.progress + \'%;\'"></div>',"</template>",'<img v-if="item.dataUrl || item.src" :src="item.dataUrl || item.src">',"</li>",'<li v-show="(images || []).length < maxCount" ref="btnImage" class="publish-photo-add">+</li>',"</ul>",'<div class="publish-photo-tips">','<template v-if="leftCount <= 0">已经上传{{maxCount}}张</template>',"<template v-else>还可以上传{{leftCount}}张</template>","</div>","</div>"].join(""),model:{prop:"images"},props:["images","maxCount","isShow"],components:{},mounted:function m(){},methods:{actionDel:function l(e){var t=o.without(this.images,e);this.$emit("input",t)}},computed:{leftCount:function n(){return(this.maxCount||0)-(this.images||[]).length}}})});
define("nowcoder/1.2.1280/javascripts/component/feed/publisher/util/upload",["nc","cpn"],function(i,t,n){var e=i("nc"),a=i("cpn"),o=e.Base,r=e.Clazz,s=a.PopupUploadTips,u=n.exports=r.create();o.extend(u.prototype,{initialize:function f(i){this.rawConfig=i||{},this.max=+i.max||0},add:function d(a){var i=this,t=i.max,n=i.getList();if(!a)return{right:!1,msg:"错误的文件"};if(t&&n.length>=t)return{right:!1,msg:"图片超过最大上传数量"};i.update(a,function(i,t,n){i.push({isLoading:!0,alt:a.name||"",file:a,id:o.key()})});var r=new FileReader;r.onloadend=function(){var e=r.result;i.update(a,function(i,t,n){t&&(t.dataUrl=e)})},r.readAsDataURL(a)},progress:function c(i,e){this.update(i,function(i,t,n){t&&(t.progress=e)})},finish:function p(i,a){this.update(i,function(i,t,n){if(t){var e=a.imageInfo||{};t.isLoading=!1,t.src=a.url,t.width=+(e.ImageWidth||{}).value||0,t.height=+(e.ImageHeight||{}).value||0}})},error:function h(i){s.show({}).showError("图片上传失败"),this.update(i,function(i,t,n){0<=n&&i.splice(n,1)})},getList:function g(){return(this.rawConfig.getList()||[]).slice(0)},update:function l(t,i){var n=this.rawConfig,e=this.getList(),a=o.findIndex(e,function(i){return i.file===t}),r=0<=a?e[a]:null;i(e,r,a),n.update(e)}})});
define("nowcoder/1.2.1280/javascripts/component/feed/publisher/util/util",["nc","cpn","ncpc","../../../../action/feed"],function(n,e,r){var t=n("nc"),c=n("cpn"),i=n("ncpc"),a=(t.Base,t.$),l=(i.Config,c.AttachUpload),o=n("../../../../action/feed"),p={};r.exports={initUpload:function u(n){n.maxCount;var c=n.context;l.show({target:n.target,url:"/uploadImage?type=1&watermark=true",fileType:"*.jpg;*.png;*.gif;*.bmp;*.jpeg",isMultiple:!0,noProgress:!0,noError:!0,checkFile:function(n,e,r){return c.add(n)},progress:function(n,e,r,t){c.progress(t,n)},call:function(n,e){c.finish(e,n)},error:function(n,e){c.error(e)}})},getLinkDetail:function f(r){var t=a.trim(r.link);if(p[t])return r.call&&r.call(p[t]);o.getLinkDetail({type:"GET",query:{url:t},call:function(n){var e=n.data.link;p[t]=e,r.call&&r.call(e)},error:function(n){r.call&&r.call()}})}}});
define("nowcoder/1.2.1280/javascripts/component/cmt/cpn/action",["nc","ncpc"],function(i,t,a){var c=i("nc"),n=(i("ncpc"),c.Base);c.$;a.exports=Vue.extend({template:["<div>",'<slot name="before"></slot>','<a href="javascript:void(0);" @click="actionReply">回复({{data.commentCnt || 0}})</a>',"<a href=\"javascript:void(0);\" @click=\"action.like(data)\">{{data.isLiked ? '已赞' : '赞'}}({{data.likes || 0}})</a>",'<a v-if="!isSub && config.isNeedShare" @click="action.share(data)" href="javascript:void(0);">分享</a>','<a v-if="!isSelf && (!isSub || config.isNeedSubReport)" @click="action.report(data)" href="javascript:void(0);" class="click-del">举报</a>','<a v-if="(config.isAdmin || isSelf || isEntityAuthor) && !data.isAccepted" @click="actionDel" href="javascript:void(0);" class="click-del">删除</a>','<a v-if="config.isAdmin && !isSub && config.isNeedLitigant" @click="action.litigant(data)" href="javascript:void(0);">{{data.isLitigant ? \'取消当事人回复\' : \'当事人回复\'}}</a>','<a v-if="config.isAdmin && !isSub && config.isNeedWonderful" @click="action.wonderful(data)" href="javascript:void(0);">{{data.isWonderful ? \'取消精彩\' : \'设置精彩\'}}</a>','<a v-if="!isSub && config.isAward && isEntityAuthor && (config.isAdmin || !isCmtAuthor)" @click="action.accept(data)" href="javascript:void(0);">采纳回答</a>','<a v-if="config.isAdmin" @click="actionSpam" href="javascript:void(0);">标记为垃圾</a>','<slot name="afater"></slot>',"</div>"].join(""),props:["data","isSub"],inject:["config","action"],methods:{actionReply:function o(){this.$emit("reply")},actionDel:function e(){var i=this;i.action.del(i.data,function(){i.$emit("delCmt")})},actionSpam:function d(){var i=this;i.action.spam(i.data,function(){i.$emit("delCmt")})}},computed:{isSelf:function s(){var i=n.id(this.config.currentUid),t=n.id(this.data.authorId);return i&&i===t},isEntityAuthor:function r(){var i=n.id(this.config.currentUid),t=n.id(this.config.entityUid);return i&&i===t},isCmtAuthor:function f(){var i=n.id(this.config.entityUid),t=n.id(this.data.authorId);return i&&i===t}}})});
define("nowcoder/1.2.1280/javascripts/component/cmt/cpn/lord",["nc"],function(e,c,n){var o=e("nc").Vue;n.exports=o.extend({template:'<a href="javascript:void(0);"><img class="identity-icon" src="//uploadfiles.nowcoder.com/images/20190708/56_1562592127316_5889949873E3E23C8A0EC0CC8F6042A8" /></a>'})});
define("nowcoder/1.2.1280/javascripts/component/cmt/cpn/reply",["nc","ncpc"],function(t,i,n){var e=t("nc"),c=t("ncpc"),o=e.$,s=e.Dom,a=c.AtList,r=c.AttachEmoji;n.exports=Vue.extend({template:["<div>",'<div class="reply-editbox clearfix">','<div v-if="isShowArrow" class="toparrow"></div>','<div class="reply-write">','<textarea ref="input" v-model="content" :placeholder="placeholder || \'请输入你的观点\'" @focus="isFocus=true" @blur="isFocus=false" class="reply-input reply-input-textarea" :class="isFocus ? \'reply-focus\' : \'\'"></textarea>',"</div>",'<div class="reply-action clearfix">','<a ref="emoji" href="javascript:void(0);" class="icon-emotion"></a>','<a @click="actionReply" class="btn btn-primary reply-btn" href="javascript:void(0);">回复</a>',"</div>","</div>","</div>"].join(""),props:["isShowArrow","placeholder","value"],inject:["config"],data:function(){return{isFocus:!1,content:this.value}},mounted:function u(){var t=this;t.initVal(),t.$nextTick(function(){t.initIpt(),t.initEmoji()})},methods:{initVal:function l(){var i=this;i.$watch("value",function(t){t!==i.content&&(i.content=t)}),i.$watch("content",function(t){i.$emit("input",t)})},initIpt:function p(){var t=this,i=o(t.$el),n=o(t.$refs.input);(function e(){n.outerWidth(i.width())})(),s.txtAutoHeight({el:n}),!(t.config||{}).isNoSubAt&&a.input(n)},initEmoji:function f(){var i=this,t=r.show({target:i.$refs.emoji,call:function(t){r.renderInIpt(i.$refs.input,t)}});i.$ncPushChild(t)},focus:function d(){o(this.$refs.input).focus()},show:function h(i,n){var e=this;e.$nextTick(function(){var t=o(e.$el);i&&t.hide(),t[i?"slideDown":"slideUp"](150,n)})},actionReply:function v(){this.$emit("submit")}},watch:{content:function m(){var t=this;t.$nextTick(function(){s.dispatchEvent(t.$refs.input,"change")})}}})});
define("nowcoder/1.2.1280/javascripts/component/cmt/item/item",["nc","cpn","ncpc","../cpn/action","../cpn/reply","../cpn/lord","../../../core/siteConfig","../../../action/contest","../util/action"],function(t,a,e){var n=t("nc"),i=t("cpn"),o=t("ncpc"),s=n.Html,c=(i.Popup,i.VueIdentity),l=(o.AttachEmoji,t("../cpn/action")),r=t("../cpn/reply"),d=t("../cpn/lord"),p=(t("../../../core/siteConfig"),t("../../../action/contest"),t("../util/action"));e.exports=Vue.extend({template:["<div class=\"answer-list-item clearfix\" :class=\"config.isNoCopyMark ? '' : 'js-copy-mark'\" :data-mark-info=\"'作者：' + data.authorName\">",'<div class="answer-content clearfix">','<a class="answer-head" :class="config.isNoNameCard ? \'\' : \'js-nc-card\'" :data-card-uid="data.authorId" :href="util.getUserProfileUrl(data.authorId)" target="_blank"><img :alt="data.authorName + \'头像\'" :src="data.headImg"></a>','<div class="answer-detail">',"<p>",'<a :href="util.getUserProfileUrl(data.authorId)" target="_blank" class="name" :class="[util.getLevelClass(data.honorLevel), config.isNoNameCard ? \'\' : \'js-nc-card\']" :data-card-uid="data.authorId" v-html="data.authorName"></a>',' <Identity v-for="item in data.identity" :key="item.level" :level="item.level" :name="item.name" :iconCls="item.idenClass"></Identity>',' <Lord v-if="util.isLord(data.authorId)"></Lord>','<template v-if="canShowFloor && (index || index === 0)">','<span v-if="data.isFeedAd" class="post-ad-tag js-ad-tag">广告<i class="icon-angle-down"></i></span>',"<span class=\"post-floor\" :class=\"data.isWonderful ? 'post-floor-green' : ''\">{{index + 1}}#</span>","</template>",'<span v-if="data.isAccepted && !config.isNoMarkAccept" class="plusFine accept-mini-tag float-right">已采纳</span>','<span v-if="data.isLitigant" class="lz-reply"><span class="lz-reply-txt">当事人回复</span></span>',"</p>",'<div class="answer-brief nc-post-content" v-html="content"></div>','<Action class="answer-legend" :data="data" @reply="actionReply" @delCmt="actionDelCmt">',"<template v-slot:before>",'<span class="answer-time">发表于 {{util.formTime(data.createTime)}}</span>',"</template>","</Action>",'<CmtList ref="cmtList" v-if="isShowReply"  class="reply-box" :id="data.id" type="2" :pageSize="10" :isSub="true" listCls="reply-list" :config="listConf">','<template v-slot:none><div v-show="false"></div></template>',"<template v-slot:footer>",'<Reply class="mt2" v-model="replyContent" @submit="actionSubmitReply"></Reply>',"</template>","</CmtList>","</div>","</div>","</div>"].join(""),props:["data","index","entityId","isPureText"],inject:["config","util"],components:{Action:l,Identity:c,Lord:d,Reply:r},data:function(){var t=this.data;return{isShowReply:this.config.isAutoOpenSubCmt&&0<t.commentCnt,replyContent:""}},mounted:function m(){var t=this;t.$nextTick(function(){t.initCommentCnt()})},methods:{initCommentCnt:function f(){var a=this;function t(){a.isShowReply&&a.$nextTick(function(){var t=a.$refs.cmtList;t&&t.$watch("totalCnt",function(){a.data.commentCnt=t.totalCnt})})}a.$watch("isShowReply",t),t()},actionReply:function u(){var n=this;p.limit(n.data,"clickReply",function(a){var e=!n.isShowReply;e&&(n.isShowReply=e),n.$nextTick(function(){var t=n.$refs.cmtList;t.show(e,function(){n.isShowReply=e,a&&a()})})})},actionDelCmt:function h(){var t=this.$parent;t&&t.delCmt&&t.delCmt(this.data.id)},actionSubmitReply:function v(){var e=this;e.$nextTick(function(){var a=e.$refs.cmtList;a.addCmt&&p.limit(e.data,"submitReply",function(t){a.addCmt({content:e.replyContent,toUserId:e.data.authorId,toCommentId:e.data.id,call:function(){e.replyContent=""},always:t})})})}},computed:{canShowFloor:function y(){return!this.config.isWonderful&&!this.config.isAccept},content:function C(){var t=this.data.content||"";if(this.isPureText){var t=t.replace(/\n/gi,"<br />");t=t.replace(/\s+([^<>]+)(?=<)|\s+([^<>]+)$/g,function(t){return t.replace(/\s/g,"&nbsp;")})}return t=s.replaceLink(t)},listConf:function g(){return{entityUid:this.data.authorId}}}})});
define("nowcoder/1.2.1280/javascripts/component/cmt/item/sub",["nc","cpn","../cpn/reply","ncpc","../cpn/action","../cpn/lord","../util/action"],function(t,e,a){var i=t("nc"),n=t("cpn"),l=i.Base,o=i.Html,r=n.VueIdentity,d=t("../cpn/reply"),s=t("../cpn/action"),c=t("../cpn/lord"),p=t("../util/action");a.exports=Vue.extend({template:['<div class="reply-list-item">','<div class="reply-main clearfix">','<div class="reply-person" style="margin-right:5px;">','<a :href="util.getUserProfileUrl(data.authorId)" target="_blank" :class="[util.getLevelClass(data.honorLevel), config.isNoNameCard ? \'\' : \'js-nc-card\']" :data-card-uid="data.authorId">{{data.authorName}}</a>',' <Identity v-for="item in data.identity" :key="item.level" :level="item.level" :name="item.name" :iconCls="item.idenClass"></Identity>',' <Lord v-if="util.isLord(data.authorId)"></Lord>','<template v-if="isToUser">'," 回复 ",'<a :href="util.getUserProfileUrl(data.toUserId)" target="_blank" :class="[util.getLevelClass(data.toUserHonorLevel), config.isNoNameCard ? \'\' : \'js-nc-card\']" :data-card-uid="data.toUserId">{{data.toUserName}}</a>',' <Identity v-for="item in data.toUserIdentity" :key="\'si\' + item.level" :level="item.level" :name="item.name" :iconCls="item.idenClass"></Identity>',' <Lord v-if="util.isLord(data.toUserId)"></Lord>',"</template>","：","</div>",'<div class="reply-content" v-html="content"></div>',"</div>",'<Action class="answer-legend reply-info" :isSub="true" :data="data" @reply="actionReply" @delCmt="actionDelCmt">',"<template v-slot:before>",'<span class="answer-time">{{util.formTime(data.createTime)}}</span>',"</template>","</Action>",'<Reply ref="reply" v-if="isShowReply" v-model="replyContent" :isShowArrow="true" :placeholder="\'回复\' + data.authorName" @submit="actionSubmitReply"></Reply>',"</div>"].join(""),props:["data","index","entityId","isPureText"],inject:["config","util"],components:{Reply:d,Action:s,Lord:c,Identity:r},data:function(){return{isShowReply:!1,replyContent:""}},methods:{actionReply:function m(){var i=this;p.limit(i.data,"clickReply",function(e){var a=!i.isShowReply;a&&(i.isShowReply=a),i.$nextTick(function(){var t=i.$refs.reply;t.show(a,function(){(i.isShowReply=a)&&t.focus(),e&&e()})})})},actionDelCmt:function u(){var t=this.$parent;t&&t.delCmt&&t.delCmt(this.data.id)},actionSubmitReply:function y(){var e=this,a=e.$parent;a&&a.addCmt&&p.limit(e.data,"submitReply",function(t){a.addCmt({content:e.replyContent,toUserId:e.data.authorId,toCommentId:e.data.id,call:function(){e.replyContent="",e.actionReply()},always:t})})}},computed:{content:function v(){var t=(this.data.content||"").replace(/\n/gi,"<br />");return t=t.replace(/\s+([^<>]+)(?=<)|\s+([^<>]+)$/g,function(t){return t.replace(/\s/g,"&nbsp;")}),t=o.replaceLink(t)},isToUser:function f(){var t=this.data;return t.toUserId&&l.id(t.toCommentId)!==l.id(this.entityId)}}})});
define("nowcoder/1.2.1280/javascripts/component/cmt/list/list",["nc","cpn","ncpc","../item/item","../cpn/action","../cpn/reply","../cpn/lord","../../../core/siteConfig","../../../action/contest","../util/action","../item/sub"],function(t,e,i){var n=t("nc"),o=t("cpn"),r=t("ncpc"),c=n.$,a=n.Base,l=n.Time,s=n.Num,d=n.Dom,f=(n.Db,o.Popup),u=(o.CheckBox,o.VuePager),m=r.Action,g=r.Config,p=t("../item/item"),v=t("../item/sub"),h=t("../../../action/contest"),y=t("../util/action");function x(t){var e=this.config||{};return e.getUserProfileUrl?e.getUserProfileUrl(t)||"javascript:void(0);":"/profile/"+t}function P(t){var e=this.config||{};return t?e.getLevelClass?e.getLevelClass(t)||"":"level-color-"+t:""}function C(t){var e=this.config||{};return a.id(t)===a.id(e.entityUid)}function T(t){return l.relate(new Date(t))}i.exports=Vue.component("CmtList",Vue.extend({template:["<div>",'<div v-if="!isLoaded" style="padding:20px 0;text-align:center;font-size:14px;">加载中...</div>','<div v-else-if="error" style="padding:20px 0;text-align:center;font-size:14px;">{{error}}</div>',"<template v-else>",'<div v-if="(items || []).length > 0" :class="listCls || \'answer-list\'">','<template v-for="(item, index) in items">','<slot ref="item" name="item" :data="item" :index="index">','<component ref="item" :is="cpn" :key="item.id" :data="item" :index="getIndex(index)" :entityId="id" :isPureText="isSub || (config || {}).isPureText"></component>',"</slot>","</template>","</div>",'<slot v-else name="none">','<div class="blank-box">','<div class="blank-img"><img src="//static.nowcoder.com/images/sofa.png" style="width:150px;height:151px;"></div>',"<p>帖子还没人回复，快来抢沙发！</p>","</div>","</slot>",'<Pager :total="totalPage" v-model="currentPage"></Pager>','<slot name="footer"></slot>',"</template>","</div>"].join(""),props:["id","type","order","pageSize","isSub","listCls","config"],components:{Pager:u},provide:function(){var t=this;return t.isSub?undefined:{config:t.config||{},action:new y({root:t}),util:{getUserProfileUrl:a.bind(x,t),getLevelClass:a.bind(P,t),isLord:a.bind(C,t),formTime:a.bind(T,t)}}},data:function(){return{items:[],currentPage:1,totalCnt:-1,totalPage:0,error:"",isLoaded:!1}},mounted:function I(){var e=this,i=a.id((e.config||{}).commentId);i?m.cmtGetPageNum({query:{pageSize:+e.pageSize||20,order:e.order||1,entityId:e.id,entityType:e.type,commentId:i},call:function(t){e.currentPage=+t.data},always:function(){e.refresh(e.currentPage,function(){e.isLoaded=!0,e.scrollToId(i,!0,!0),e.$nextTick(function(){var t=e.getItem(i);t&&t.actionReply&&t.actionReply()})})}}):e.refresh(1,function(){e.isLoaded=!0})},methods:{refresh:function b(n,o){var r=this,t=+r.pageSize||20;(n=+n||1)<0&&0<=r.totalCnt&&(n=s.page(r.totalCnt,t)),h.getCommentByPageV2({query:{entityId:r.id,entityType:r.type,page:n,pageSize:t,order:r.order||1},call:function(t){var e=t.data||{},i=e.comments||[];if(-1===n||0!==e.totalCnt&&0===i.length)return r.refresh(e.totalPage,o);r.currentPage=n,r.totalCnt=e.totalCnt,r.totalPage=e.totalPage,r.items=i,r.error="",o&&o()},error:function(t){r.error=t.msg}})},show:function w(e,i){var n=this;n.$nextTick(function(){var t=c(n.$el);!e&&t.slideUp(150,i),e&&(t.show(),i&&i())})},addCmt:function S(i){var n=this,o=n.config||{},t=i.content||"",e=t.replace(/<.*?>/gi,"");/<img.+>/gi.test(t)||e?function r(){m.cmtAdd({captcha:{type:g.captcha.postComment},body:{entityType:n.type,entityOwnerId:o.entityUid||0,entityId:n.id,toFeed:i.toFeed?"true":"false",commentContent:t,toUserId:i.toUserId,toCommentId:i.toCommentId},call:function(t){var e=a.id(t.data);n.totalCnt++,n.refresh(-1,function(){o.isNoReplyScroll||(n.isSub?n.scrollToTop():e&&n.scrollToId(e,!1,!0))}),i.call&&i.call(t)},error:function(t){f.alert(t.msg),i.error&&i.error(t)},always:i.always})}():(f.alert("内容不能为空"),i.always&&i.always())},delCmt:function U(i){var n=this;n.$nextTick(function(){var t=n.getItem(i);if(t){var e=c(t.$el);e.slideUp(150,function(){n.refresh(n.currentPage)})}})},getItem:function $(e){e=a.id(e);var t=this.$refs.item||[];return a.find(t,function(t){return a.id(t.data.id)===e})},getIndex:function L(t){var e=a.id(this.order)||"1",i=+this.pageSize||20,n=t+(this.currentPage-1)*i;return"0"===e?this.totalCnt-n-1:"1"===e?n:undefined},scrollToTop:function k(i){var n=this;n.$nextTick(function(){var t=n.config||{},e=c(n.$el).parent();d.scrollToEl({el:e,scrollEl:d.getScrollParent(e),animation:!!i,ext:+t.extHeight||0})})},scrollToId:function z(n,o,r){var a=this;a.$nextTick(function(){var t=a.config||{},e=a.getItem(n);if(e){var i=c(e.$el);d.scrollToEl({el:i,scrollEl:d.getScrollParent(i),animation:!!o,ext:+t.extHeight||0}),r&&d.highLight({el:i})}})}},watch:{currentPage:function E(t){var e=this;e.refresh(t,function(){e.scrollToTop()})}},computed:{cpn:function V(){return this.isSub?v:p}}}))});
define("nowcoder/1.2.1280/javascripts/component/cmt/util/action",["nc","cpn","ncpc"],function(t,i,n){var o=t("nc"),c=t("cpn"),e=t("ncpc"),a=o.$,r=o.Base,l=(o.Db,o.Clazz),m=c.Popup,d=(c.CheckBox,e.Action),u=e.Config,f=e.Util,s=e.PopupReport,p=n.exports=l.create();function y(t,i,n){i=[i,t.id].join("_");var o=t._actionFlag=t._actionFlag||{};o[i]||(o[i]=!0,n&&n(function(){window.setTimeout(function(){o[i]=!1},150)}))}r.extend(p.prototype,{initialize:function g(t){this.root=t.root},del:function v(i,n){var t=this;m.confirm("确定删除评论？",function(){t.limit(i,"del",function(t){d.cmtDel({body:{id:i.id},call:n,error:function(t){m.alert(t.msg)},always:t})})})},like:function h(n){this.limit(n,"like",function(t){var i=n.isLiked;d[i?"unlike":"like"]({body:{id:n.id,type:u.type.comment},call:function(t){n.isLiked=!i,n.likes=t.count},error:function(t){m.alert(t.msg)},always:t})})},share:function b(t){f.shareImg({shareType:"2",entityId:t.id})},report:function w(t){s.show({type:u.type.comment,entityId:t.id,mainCommentEntryId:(this.root||{}).id})},litigant:function k(i){var n=this,o=i.isLitigant;m.confirm(o?"你确定将此评论取消当事人评论吗":"你确定要将评论设为当事人评论吗",function(){n.limit(i,"litigant",function(t){d[o?"cmtDelLitigant":"cmtAddLitigant"]({body:{commentId:i.id},call:function(t){i.isLitigant=!o,n.emit("litigantCmt")},error:function(t){m.alert(t.msg)},always:t})})})},wonderful:function A(i){var n=this,o=i.isWonderful;m.confirm(o?"你确定将此评论取消精彩吗":"你确定要将评论设为精彩吗",function(){n.limit(i,"wonderful",function(t){d[o?"cmtDelWonderful":"cmtAddWonderful"]({body:{commentId:i.id},call:function(t){i.isWonderful=!o,n.emit("wonderfulCmt")},error:function(t){m.alert(t.msg)},always:t})})})},accept:function I(n){var o=this;m.confirm("采纳本楼为最佳回答后，你悬赏的牛币将直接打入对方账户，你将无法撤销本操作，是否确定采纳？",function(){var i=o.root||{};o.limit(n,"accept",function(t){d.cmtAccept({body:{commentId:n.id,entityId:i.id,entityType:i.type},call:function(t){n.isAccepted=!0,i.config.isAward=!1,o.emit("acceptCmt")},error:function(t){m.alert(t.msg)},always:t})})})},spam:function j(o,c){new m({title:"提示",content:['<div style="text-align:center;">','<a href="javascript:void(0);" class=" btn btn-primary btn-lg js-close-popup" data-type="1" style="margin-bottom:20px;">这条回帖是垃圾</a>','<a href="javascript:void(0);" class="btn btn-warn btn-lg js-close-popup">TA的回帖都是垃圾</a>',"</div>"].join("")}).getEl().on("click","a.btn-lg",function(t){var i=a(t.currentTarget),n="1"===a.trim(i.attr("data-type"));m.confirm(n?"确定将这条评论标记为垃圾吗？":"确定将这个用户的所有评论标记为垃圾，并拉黑TA吗？",function(){d[n?"cmtMarkSpam":"cmtMarkUserAllSpam"]({body:n?{cid:o.id}:{uid:o.authorId,type:2},call:c,error:function(t){m.alert(t.msg)}})})})},emit:function C(){var t=this.root;t&&t.$emit&&t.$emit.apply(t,arguments)},limit:y}),r.extend(p,{limit:y})});
define("nowcoder/1.2.1280/javascripts/site/common/cpn/action",["nc","cpn","ncpc","../../../action/resume","../../../action/login","../../../action/admin"],function(c,n,t){var e=c("nc"),a=c("cpn"),o=c("ncpc"),s=e.$,l=e.Base,d=(e.Browser,e.Uri),p=a.Popup,i=o.Env,r=o.Auth,u=c("../../../action/resume"),m=c("../../../action/login"),f=c("../../../action/admin");function g(n){this.newResume(n)}function h(n){this.newResume(n,!0)}function w(n){n.preventDefault();var t=s(n.currentTarget),e=t.closest("form"),a="";if(0===e.length)a=t.attr("data-id");else{var o=e.attr("action");a=d.getParam("tagIds",o)}var i=(a||"").split(",");if(0!==(i=l.filter(i,function(n){return s.trim(n)})).length){var r=+t.attr("data-papertype")||0;c.async("../../../component/popupSub/popupStar",function(n){n.show({tagIds:i,call:function(n,t,e){var a=window.encodeURIComponent(i.join(",")),o=s('<form method="post" action="/makePaper?source='+e+"&tagIds="+a+"&difficulty="+n+(t?"&questionCount="+t:"")+"&paperType="+r+'"></form>');s(document.body).append(o),o.submit()}})})}}function b(n){m.bridge({query:{pcUrl:window.location.href},call:function(n){window.location.href=n.data.url},error:function(n){}})}function v(n){i.isLogin()&&c.async("../../../component/coin/popupRecharge",function(n){n.show({})})}function j(n){var t=s(n.currentTarget),c=s.trim(t.attr("data-id")),l=s.trim(t.attr("data-uid")),e=s.trim(t.attr("data-status"));if(c){var a="3"===e,o="4"===e;new p({title:"提示",content:['<div style="text-align:center;">',!a&&!o?"":'<a href="javascript:void(0);" class="btn btn-info btn-lg js-close-popup" data-type="cancel" style="margin-bottom:20px;">恢复为正常状态</a>',o?"":'<a href="javascript:void(0);" class="btn btn-primary btn-lg js-close-popup" data-type="hide" style="margin-bottom:20px;">隐藏这篇笔记</a>',a?"":'<a href="javascript:void(0);" class="btn btn-primary btn-lg js-close-popup" data-type="spamOne" style="margin-bottom:20px;">这篇笔记是垃圾</a>','<a href="javascript:void(0);" class="btn btn-warn btn-lg js-close-popup" data-type="spamAll">TA的笔记都是垃圾</a>',"</div>"].join("")}).getEl().on("click","a.btn-lg",function(n){var t=s(n.currentTarget),e=s.trim(t.attr("data-type")),a=(s.trim(t.attr("data-status")),"cancel"===e),o="hide"===e,i="spamOne"===e,r=a?"确定将这篇笔记恢复为正常状态吗？":o?"确定隐藏这篇笔记吗？":i?"确定将这篇笔记标记为垃圾吗？":"确定将这个用户的所有笔记标记为垃圾吗？";p.confirm(r,function(){f[a?"washNoteWhite":o||i?"markNoteSpam":"markUserAllCommentSpam"]({body:a?{pid:c}:o||i?{pid:c,hide:o}:{uid:l,type:4},call:function(){window.location.reload()},error:function(n){p.alert(n.msg)}})})})}}t.exports={init:function y(){var e=this,n=[{cls:".nc-js-new-resume",needLogin:!0,handler:g},{cls:".nc-js-new-attachment-resume",needLogin:!0,handler:h},{cls:".nc-js-make-paper",handler:w},{cls:".js-mobile-btn",handler:b},{cls:".js-recharge-coin",needLogin:!0,handler:v},{cls:".js-spam-note",needLogin:!0,handler:j}];l.forEach(n,function(t){r.click({cls:t.cls,needLogin:!!t.needLogin,needActive:!!t.needActive,call:function(n){t.handler.call(e,n)}})})},newResume:function I(n,t){n.preventDefault();var e=s(n.currentTarget),a="true"===d.getParam("fromIntern")?0:+e.attr("data-jobid")||0;u.newResume({body:l.extend({jobId:a},t?{attachment:1}:null),call:function(n){var t=d.getParam("rcb");t=t?window.decodeURIComponent(t):window.location.href;var e="/resume/"+n.data.id+"?rcb="+window.encodeURIComponent(t);0<a&&(e=e+"&jobId="+n.data.jobId),window.location.href=e},error:function(n){if(2!==n.code)p.alert(n.msg);else{var t=p.confirm(n.msg,function(){window.location.href="/profile/"+(window.globalInfo.ownerId||"")+"/resume"});t.getEl().find("a.confirm-btn").html("去修改")}}})},bind:function R(n,t,e){var a=this,o=s(document);e&&o.on(n,t,function(n){e&&e.call(a,n)})}}});
define("nowcoder/1.2.1280/javascripts/site/common/cpn/fixedBottom",["nc"],function(o,t,e){var n=o("nc"),a=n.$,d=(n.Dom,n.Time);e.exports={init:function l(){var o=!!(window.globalInfo||{}).ownerId,s=a("div.js-fixed-foot");if(o||0===s.length)return;var t=(window.location.href||"").split("?")[0];if(!(/\/questionTerminal\/.*/.test(t)||/\/contestRoom/.test(t)||/\/courses\/\d+/.test(t)||/\/courses/.test(t)||/\/discuss\/\d+/.test(t)))return;var i=s.height()+1,r=a(window),c=a(".js-nowcoder-footer");if(!c.hasClass("ft-wrap"))return;var e=d.frequency(15),f=0;function n(){e(function(){if(0===f){var o=r.height(),t=c.position().top,e=r.scrollTop(),n=e+o-i;f=t<n?n-t:0,s.css("bottom",f)}else{var o=r.height(),t=c.position().top,e=r.scrollTop(),n=e+o-i;f=t<n?n-t:0,s.css("bottom",f)}})}r.on("scroll",n),n(),window.setTimeout(n,1200),r.on("resize",n),s.fadeIn(250)}}});
define("nowcoder/1.2.1280/javascripts/site/common/cpn/slideBanner",["nc"],function(n,i,o){var e=n("nc"),v=e.$,w=e.Dom,T=e.Base;o.exports={init:function g(){var n=v("#jsSideTopicList"),i=n.find("div.topic-slide-box"),t=i.find("ul.side-topic-list"),o=n.find("a.js-topic-mho-pre").attr("title","下一页"),e=n.find("a.js-topic-mho-next").attr("title","上一页"),c=t.children(),r=c.length,a=3;if(r<=a)return o.hide(),e.hide(),void i.css("height","auto");c=v(t.get(0).cloneNode(!0)).children();var d,f=0,s=!1,u=7500;function p(n){window.clearTimeout(d),d=window.setTimeout(function(){window.clearTimeout(d),l(!!n),d=window.setTimeout(arguments.callee,u)},u)}function l(i){if(!s){s=!0,h(f);var n=f+(i?1:-1),o=m(n),e=t.children()[0];T[i?"forEach":"forReverse"](o,function(n){t[i?"append":"prepend"](n)}),!i&&t.css("marginTop",-1*w.getPosTop(e,t)),t.animate({marginTop:i?-1*w.getPosTop(o[0],t):0},function(){f=n,s=!1})}}function h(n){t.html("").css("marginTop",0);var i=m(n);T.forEach(i,function(n){t.append(n)})}function m(n){var o=[],e=a*n;return T.forCount(a,function(n){var i=(e+n)%r;i=0<=i?i:i+r,o.push(c[i].cloneNode(!0))}),o}h(0),p(!0),T.forEach([o,e],function(n){n.on("click",function(){window.clearTimeout(d),l(n===o),p(n===o)})})}}});
define("nowcoder/1.2.1280/javascripts/site/common/index",["nc","cpn","ncpc","./cpn/fixedBottom","./cpn/slideBanner","./cpn/action","../../action/resume","../../action/login","../../action/admin"],function(i,n,t){var e=i("nc"),o=(i("cpn"),i("ncpc")),c=(e.$,e.Sys),a=(e.Base,o.Env),s=o.Launch,d=i("./cpn/fixedBottom"),p=i("./cpn/slideBanner"),r=i("./cpn/action");s.initOAuth(),s.initInIframe(),s.initDocWrite(),c.ready({initialize:function f(){window.isLogin=a.isLogin(),window.isActive=a.isActive(),window.isCompleteInfo=a.isCompleteInfo(),s.initNavActiveEmail(),s.initNavLogin(),s.initNavSearch(),s.initAction(),s.initRightNav(),s.initLiveTips(),s.initContentShowHalf(),p.init(),r.init(),window.setTimeout(function(){s.initCheckLogin(),s.initCheckMessage(),s.initTips(),s.initCopy(),s.initHijack(),s.initProfileCard(),s.initCopyRight({need:function(i){return/\/questionTerminal\/.*/.test(i)||/\/discuss\/\d+/.test(i)}}),d.init()},500)}})});